<!-- ======================================================= -->

<!-- ======================================================= -->

<!-- ======================================================= -->

# R руу шилжих

Хэрэв та R руу өөр программаас шилжиж байгаа бол бид доор зарим зөвлөгөө, материалыг танд өгөх болно.

R нь 1990-ээд оны сүүлээр гарч ирсэн бөгөөд түүнээс хойш хамрах хүрээ нь эрс нэмэгдсэн. R маш өргөн хүрээний чадавхитай тул арилжааны статитистик программууд өрсөлдөх чадвартай хэвээр үлдэхийн тулд R хөгжүүлэлтэд хариу үйлдэл үзүүлсэн! ([R, SPSS, SAS, STATA, Python-г харьцуулсан энэ нийтлэлийг уншина уу](https://www.inwt-statistics.com/read-blog/comparison-of-r-python-sas-spss-and-stata.html)).

Үүний зэрэгцээ R-ыг 10 жилийн өмнөхтэй харьцуулахад сурахад илүү хялбар болсон. Өмнө нь R эхлэн суралцагчдад их хэцүү гэсэн ойлголттой байсан бол RStudio зэрэг хэрэглэгчид ээлтэй интерфэйс, **tidyverse** гэх мэт ойлгомжтой код, сургалтын олон материалын тусламжтайгаар энэ нь илүү хялбар болсон.

[**Та бүү сүрдээрэй- бидэнтэй нийлж R-ын ертөнцтэй танилцаарай!**]{style="color: darkgreen;"}

```{r, echo=F, out.width = "75%", out.height="75%", fig.align = "center"}
knitr::include_graphics(here::here("images", "transition_door.png"))
```

## Excel-ээс

Excel-ээс R руу шууд шилжих нь тун хүрч болохуйц зорилго юм. Энэ нь эхэндээ сүрдэм мэт санагдаж болох ч та үүнийг хийж чадна!

Excel-ийн өндөр ур чадвартай хүн VBA гэх мэт скрипт хэрэгслийг ашиглан Excel дээр маш ахисан түвшний үйлдлүүдийг хийж чаддаг. Excel програмыг дэлхий даяар ашигладаг бөгөөд тархвар судлаачийн зайлшгүй шаардлагатай хэрэгсэл юм. Гэсэн хэдий ч үүнийг R-аар орлуулах нь таны ажлын урсгалыг эрс сайжруулж, өргөжүүлэх боломжтой.

### Ашиг тус {.unnumbered}

R-ийг ашиглах нь цаг хугацаа хэмнэсэн, илүү тогтвортой, үнэн зөв дүн шинжилгээ хийх, дахин давтагдах, хуваалцах боломжтой, алдааг хурдан засах зэрэг асар их ашиг тусыг өгдөг гэдгийг та олж мэдэх болно. Аливаа шинэ программ сурахын нэгэн адил та сайн ашиглаж сурахын тулд цаг хугацааны хөрөнгө оруулалт хийх ёстой суралцах "муруй" байдаг. Үүний үр дүнд ирэх ашиг нь мэдэгдэхүйц байх бөгөөд R танд олон шинэ боломжуудыг нээх болно.

Excel бол анхлан суралцагчдад "point-and-click" буюу чиглүүлээд товших замаар энгийн дүн шинжилгээ хийх, дүрслэн харуулахад хялбар байдаг алдартай програм хангамж. Үүнтэй харьцуулахад, R функц болон интерфэйстэй дасахад хэдэн долоо хоног шаардлагатай. Гэсэн хэдий ч R сүүлийн жилүүдэд анхлан суралцагчдад илүү ээлтэй болж хөгжсөн.

Excel-ийн олон ажлын урсгал нь санах ой болон давталт дээр тулгуурладаг тул алдаа гаргах боломж их байдаг. Цаашилбал, ерөнхийдөө дата цэвэрлэх, дүн шинжилгээ хийх арга зүй, ашигласан тэгшитгэлүүд нь нүднээс далд байдаг. Үүний улмаас шинээр ажилд орсон хүн өмнөх Excel-ийн ажлын дэвтэр юу хийж байгааг болон алдааг хэрхэн олж засварлах талаар сурахад ихээхэн цаг хугацаа шаарддаг. Харин R дээр бүх алхмуудыг скрипт дээр тодорхой бичсэн бөгөөд хялбархан харж, засварлаж, засч, бусад датасетэд хэрэглэж болно.

**Excel-ээс R руу шилжихийн тулд та хэд хэдэн чухал замаар сэтгэлгээгээ өөрчлөх шаардлагатай:**

### Цэгцтэй дата (Tidy data) {.unnumbered}

"Хүн уншдаг" замбараагүй датаны оронд машинаар уншигдахуйц "цэгцтэй" датаг ашигла. [R хэл дээрх "цэгцтэй" датаны](https://r4ds.had.co.nz/tidy-data.html) талаарх энэхүү зааварт тайлбарласны дагуу эдгээр нь "цэгцтэй" датанд тавигдах гурван үндсэн шаардлага юм:

-   Хувьсагч бүр өөрийн гэсэн баганатай байх ёстой

-   Ажиглалт бүр өөрийн гэсэн мөртэй байх ёстой

-   Утга бүр өөрийн нүдтэй байх ёстой

Excel-ийн хэрэглэгчдэд - [Excel-ийн "хүснэгтүүд"](https://exceljet.net/excel-tables) датаг стандартчилах, форматыг урьдчилан таамаглах боломжтой болгоход ямар үүрэг гүйцэтгэдэг талаар бодож үзээрэй.

"Цэгцтэй" датаны жишээ бол энэ гарын авлагад ашигласан тохиолдлын лайнлист байж болно - хувьсагч бүр нэг баганад агуулагддаг, ажиглалт (нэг тохиолдол) бүр өөрийн гэсэн мөртэй, утга бүр нь зөвхөн нэг нүдэнд байна. Та лайнлистийн эхний 50 мөрийг доороос харж болно:

```{r, echo=F}
# лайнлистийг R руу импортлох
linelist <- rio::import(here::here("data", "case_linelists", "linelist_cleaned.rds"))
```

```{r, message=FALSE, echo=F}
# лайнлистийг хүснэгт хэлбэрээр харуулах
DT::datatable(head(linelist, 50), rownames = FALSE, filter="top", options = list(pageLength = 5, scrollX=T), class = 'white-space: nowrap' )
```

*Эмх цэгцгүй дататай тулгардаг гол шалтгаан нь Excel-ийн олон хүснэгтүүд нь машин/програм хангамжаар уншихад хялбар биш, харин хүн уншихад хялбар болгох зорилгоор бүтээгдсэн байдаг.*

Ялгааг олж харахад тань туслахын тулд *машинд* унших чадвараас илүү *хүний* унших чадварыг чухалчилдаг **эмх цэгцгүй датаны** зарим зохиомол жишээг доор харуулав:

```{r, echo=F, out.width = "100%", out.height="75%", fig.align = "center"}
knitr::include_graphics(here::here("images", "Excel_nonTidy_1.png"))
```

*Асуудлууд*: Дээрх хүснэгтэд R-д амархан илэрхийлэгдэггүй, нэгтгэсэн нүднүүд байна. Аль мөрийг "толгой" гэж үзэх нь тодорхойгүй байна. Өнгөнд суурилсан толь бичиг баруун талд байгаа бөгөөд нүдний утгуудыг өнгөөр дүрсэлсэн байдаг нь R-д мөн амар уншигддаггүй (өнгө харалган хүмүүст ч бас!). Цаашилбал, өөр өөр мэдээллийг нэг нүдэнд нэгтгэсэн (нэг хэсэгт ажилладаг олон түнш байгууллагууд, эсвэл "Partner D"-тэй нэг нүдэнд "TBC" статус).

```{r, echo=F, out.width = "100%", out.height="100%", fig.align = "center"}
knitr::include_graphics(here::here("images", "Excel_nonTidy_2.png"))
```

*Асуудлууд*: Дээрх хүснэгтэд датасет дотор олон тооны нэмэлт хоосон мөр, багана байна - энэ нь R-д цэвэрлэхэд хүндрэл үүсгэдэг. Цаашилбал, GPS-ийн координатууд нь тодорхой эмчилгээний төв бүрт хоёр мөрөнд дамнаж бичигдсэн байна. Мөн дээрээс нь GPS-ийн координатууд нь хоёр өөр форматтай байна!

"Цэгцтэй" датасет нь хүний нүдээр уншихад хялбар биш байж болох ч дата цэвэрлэх, дүн шинжилгээ хийхэд илүү хялбар болгодог! Цэгцтэй датаг "урт" эсвэл "өргөн" гэх мэт янз бүрийн форматаар хадгалах боломжтой (\[Датаг пивот хийх\] хуудсыг үзнэ үү), гэхдээ дээрх зарчмууд хэвээр байна.

### Функцууд {.unnumbered}

"Функц" гэсэн R үг нь шинэ байж болох ч Excel-д энэ ойлголт томьёо хэлбэрээр байдаг. Excel-ийн томьёо нь мөн нарийн синтакс шаарддаг (жишээ нь, цэг таслал, хаалт байрлуулах). Таны хийх ёстой зүйл бол ердөө л R-н хэдэн шинэ функц болон тэдгээр нь хэрхэн хамтран ажилладаг талаар сурах явдал юм.

### Скриптүүд {.unnumbered}

Товчлуур дээр дарж, нүдийг чирэхийн оронд та алхам, процедур *бүрийг* "скрипт" болгон бичих болно. Зарим Excel-ийн хэрэглэгчид скрипт бичих аргыг ашигладаг "VBA макро"-г мэддэг байх.

*R скрипт нь алхам бүрийн зааварчилгаанаас бүрдэнэ.* Энэ нь ямар ч хамтрагчдад скриптийг уншиж, таны хийсэн алхмуудыг хялбархан харах боломжийг олгоно. Ингэснээр алдаа эсвэл буруу тооцооллыг засахад тусалдаг. Жишээнүүдийг \[R суурь ойлголтууд\] бүлгийн скриптүүд хэсгээс үзнэ үү.

R скриптийн нэг жишээ:

```{r, echo=F, out.width = "75%", out.height="75%", fig.align = "center"}
knitr::include_graphics(here::here("images", "example_script.png"))
```

### Excel-ээс-R шилжих материалууд {.unnumbered}

Excel-ээс R руу шилжихэд туслах хэдэн хичээлийг эндээс үзнэ үү:

-   [R vs Excel](https://www.northeastern.edu/graduate/blog/r-vs-excel/)

-   [Excel хэрэглэгчдэд зориулсан R хэл дээрх RStudio курс](https://rstudio-conf-2020.github.io/r-for-excel/)

### R-Excel-ийн харилцан үйлчлэл {.unnumbered}

R нь Excel-ийн ажлын номыг импортлох, дататай ажиллах, Excel файлуудыг экспортлох/хадгалах, Excel хуудасны нарийн ширийн зүйлстэй ажиллах найдвартай аргуудтай.

Зарим илүү гоо зүйн Excel форматыг оруулах үед (жишээ нь налуу текст, босоо текст гэх мэт) алдагдаж болдог. Хэрэв таны ажлын урсгал Excel-ийн анхны форматыг хадгалахын зэрэгцээ R болон Excel хооронд бичиг баримтыг хооронд нь дамжуулах шаардлагатай бол **openxlsx** зэрэг багцуудыг ашиглаж үзээрэй.

## Stata-гаас

<!-- ======================================================= -->

**Stata-гаас R-д ирэх**

Олон тархвар судлаачдад эхлээд Stata-г хэрхэн ашиглахыг заадаг бөгөөд R-д шилжих нь хэцүү юм шиг санагддаг. Гэсэн хэдий ч, хэрэв та Stata-г сайн хэрэглэж сурсан бол R руу шилжих нь таны бодож байгаагаас илүү хялбар байх болно. Дата хэрхэн үүсгэх, өөрчлөх, дүн шинжилгээ хийх функцууд хэрхэн хэрэгжих зэрэгт Stata болон R хоёрын хооронд зарим нэг гол ялгаа байдаг ч эдгээр гол ялгааг сурсны дараа та ур чадвараа хөрвүүлэх боломжтой болно.

Stata болон R-ын хоорондох зарим үндсэн хөрвүүлгийг доор харуулав, энэ нь танд энэхүү гарын авлагыг унших явцад хэрэг болж магадгүй.

**Ерөнхий тэмдэглэл**

+------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **STATA**                                                                                                                                                  | **R**                                                                                                                                                                                                              |
+============================================================================================================================================================+====================================================================================================================================================================================================================+
| Та нэг удаад зөвхөн нэг датасет харж, удирдах боломжтой                                                                                                    | Та олон датасетийг нэгэн зэрэг харж, удирдах боломжтой тул код дотор датасетээ байнга зааж өгөх шаардлагатай болдог.                                                                                               |
+------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Онлайн тусламжийг <https://www.statalist.org/> вэбсайтаар дамжуулан авах боломжтой                                                                         | Онлайн тусламжийг [RStudio](https://community.rstudio.com/), [StackOverFlow](https://stackoverflow.com/questions/tagged/r), болон [R-bloggers](https://www.r-bloggers.com/) вэбсайтуудаар дамжуулан авах боломжтой |
+------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Чиглүүлээд товших (point-and-click) функц байгаа                                                                                                           | Маш бага чиглүүлээд товших функцтэй                                                                                                                                                                                |
+------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Командуудын тусламжийг `help [command]` командаар авч болно                                                                                                | Тусламжийг `[function]?` командаар дуудна эсвэл Тусламж хэсэгт хайлт хийнэ                                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Кодод дараах тэмдгүүдийг ашиглан тайлбар бичиж болно: \* эсвэл /// эсвэл /\* TEXT \*/                                                                      | Чагт тэмдэг (#) ашиглан тайлбар бичнэ                                                                                                                                                                              |
+------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Бараг бүх командууд Stata-д суурилагдсан байдаг. Шинэ/хэрэглэгчийн бичсэн функцуудыг **ssc install** \[багц\] ашиглан **ado** файл байдлаар суулгаж болно. | R нь **base** функцуудтэй суудаг боловч ердийн хэрэглээний үед CRAN-аас бусад багцуудыг суулгах нь хэвийн үзэгдэл (\[R суурь ойлголтууд\] хуудсыг үзнэ үү)                                                         |
+------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Дүн шинжилгээг ихэвчлэн **do** файлд бичдэг                                                                                                                | Дүн шинжилгээ RStudio үүсвэр хэсэгт R скриптэнд ихэвчлэн бичигддэг. Мөн R markdown скрипт ашиглаж болно.                                                                                                           |
+------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Ажлын директор**

+------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
| **STATA**                                                                                            | **R**                                                                                                                                          |
+======================================================================================================+================================================================================================================================================+
| Ажлын директор нь үнэмлэхүй файлын замыг агуулдаг (жишээ нь: "C:/username/documents/projects/data/") | Ажлын директор нь үнэмлэхүй эсвэл **here** багцыг ашиглан төслийн үндсэн хавтастай холбоотой байж болно (\[Импорт, экспорт\] хэсгийг үзнэ үү). |
+------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
| **pwd** ашиглан одоогийн ажиллаж буй директорийг харна                                               | `getwd()` эсвэл `here()` (хэрэв **here** багцыг ашиглаж байгаа бол) функцуудыг хоосон хаалттай ашиглана                                        |
+------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
| **cd** "хавтасны байршил" ашиглан ажлын директорийг тохируулна                                       | `setwd(“хавтасны байршил”)` эсвэл `set_here("хавтасны байршил)` (хэрэв **here** багцыг ашиглаж байгаа бол) ашиглана                            |
+------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+

**Дата импортлох, харах**

+---------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **STATA**                                                                                                                 | **R**                                                                                                                                                                                                                                 |
+===========================================================================================================================+=======================================================================================================================================================================================================================================+
| Файлын төрөл тус бүрд тусгай командууд                                                                                    | Бараг бүх файлын төрөлд **rio** багцын `import()` функцыг ашиглаж болно. Өөр тусгай функцуудын сонголтууд бий (\[Импорт, экспорт\] хэсгийг үзнэ үү).                                                                                  |
+---------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| csv файлуудыг унших нь **import delimited** "filename.csv" командаар хийгддэг.                                            | `import("filename.csv")` ашиглана                                                                                                                                                                                                     |
+---------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| xslx файлуудыг унших нь **import excel** "filename.xlsx" командаар хийгддэг                                               | `import("filename.xlsx")` ашиглана                                                                                                                                                                                                    |
+---------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **browse** командыг ашиглан датагаа шинэ цонхонд харна                                                                    | `View(dataset)` ашиглан RStudio үүсвэр хэсэгт датасетийг харах боломжтой. *Олон датасетийг нэгэн зэрэг хадгалж болдог тул та R-ын функцэд тухайн датасетийнхээ нэрийг зааж өгөх хэрэгтэй. Дээрх функцийн том "V" үсгийг анхаараарай.* |
+---------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Хувьсагчийн нэр болон үндсэн мэдээллийг харуулдаг **summarize** командыг ашиглан датасетийнхээ дээд түвшний тоймыг харна. | `summary(dataset)` ашиглан датасетийнхээ дээд түвшний тоймыг харна.                                                                                                                                                                   |
+---------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Дататай ажиллах үндсэн командууд**

+----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **STATA**                                                                              | **R**                                                                                                                                                                         |
+========================================================================================+===============================================================================================================================================================================+
| Датасетийн багануудыг ихэвчлэн "хувьсагч" гэж нэрлэдэг.                                | Ихэнхдээ "багана" эсвэл заримдаа "вектор" эсвэл "хувьсагч" гэж нэрлэдэг.                                                                                                      |
+----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Датасетийг зааж өгөх шаардлагагүй                                                      | Доорх команд бүрт та датасетийг зааж өгөх хэрэгтэй - жишээнүүдийг \[Дата цэвэрлэх болон үндсэн функцууд\] хуудаснаас үзнэ үү.                                                 |
+----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **generate** *varname* = командыг ашиглан шинэ хувьсагчдыг үүсгэнэ                     | `mutate(varname = )` функцийг ашиглан шинэ хувьсагч үүсгэнэ. Доорх бүх **dplyr**-ынфункцуудын талаар дэлгэрэнгүйг \[Дата цэвэрлэх болон үндсэн функцууд\] хуудаснаас үзнэ үү. |
+----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **rename** *old_name new_name* командаар хувьсагчдын нэрийг өөрчилдөг                  | `rename(new_name = old_name)` функцийг ашиглан хувьсагчдын нэрийг өөрчилж болно                                                                                               |
+----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Хувьсагчдыг **drop** varname ашиглан хасдаг                                            | Хаалтанд хасах тэмдгийн дараа баганын нэрийг бичсэн `select()` функцийг ашиглан багануудыг хасаж болно                                                                        |
|                                                                                        |                                                                                                                                                                               |
| Variables are dropped using **drop** *varname*                                         |                                                                                                                                                                               |
+----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Фактор хувьсагчдыг **label define** гэх мэт хэд хэдэн командыг ашиглан шошголож болно. | Баганыг Фактор анги руу хөрвүүлж, түвшинг зааж өгснөөр утгуудыг нь шошголж болно. \[Фактор\] хуудаснаас харна уу. Ихэнх тохиолдолд баганын нэрийг Stata шиг шошголдоггүй.     |
+----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Дескриптив дүн шинжилгээ**

+------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **STATA**                                                                                                  | **R**                                                                                                                                                                                            |
+============================================================================================================+==================================================================================================================================================================================================+
| **tab** *varname* ашиглан хувьсагчийн тоог хүснэгтэлдэг.                                                   | `table(dataset$colname)` гэх мэтээр `table()` функцэд датасет болон баганын нэрийг оруулна. Эсвэл \[Дата бүлэглэх\] хэсэгт тайлбарласны дагуу **dplyr** багцын `count(varname)`-г ашиглаж болно. |
+------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| 2х2 хүснэгтээр хоёр хувьсагчийн хөндлөн хүснэгтийг харуулахад **tab** *varname1 varname2* команд ашиглана. | `table(dataset$varname1, dataset$varname2` эсвэл `count(varname1, varname2)` ашиглана.                                                                                                           |
+------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Хэдийгээр энэ жагсаалт нь Stata командуудыг R руу хөрвүүлэх үндсэн зарчмуудын тоймыг өгч буй боловч энэ нь бүрэн гүйцэд биш юм. R руу шилжиж байгаа Stata хэрэглэгчдэд сонирхолтой байж болох өөр олон эх сурвалжууд байдаг:

-   <https://dss.princeton.edu/training/RStata.pdf>\
-   <https://clanfear.github.io/Stata_R_Equivalency/docs/r_stata_commands.html>\
-   <http://r4stats.com/books/r4stata/>

## SAS-аас

<!-- ======================================================= -->

**SAS-аас R-д ирэх**

SAS нь нийгмийн эрүүл мэндийн агентлагууд болон эрдэм шинжилгээ, судалгааны салбарт түгээмэл хэрэглэгддэг. Хэдийгээр шинэ программ руу шилжих нь тийм ч хялбар биш боловч SAS, R хоёрын гол ялгааг ойлгох нь таныг одоогийн программаа ашиглан шинэ программ руу шилжихэд тусална. SAS болон R-ын дата менежмент болон дескриптив дүн шинжилгээний үндсэн хөрвүүлгүүдийг доор харуулав.

**Ерөнхий тэмдэглэл**

+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **SAS**                                                                                                                                                                                              | **R**                                                                                                                                                                                                              |
+======================================================================================================================================================================================================+====================================================================================================================================================================================================================+
| Онлайн тусламж [SAS хэрэглэгчийн тусламжаар](https://support.sas.com/en/support-home.html) дамжуулан авах боломжтой                                                                                  | Онлайн тусламжийг [RStudio](https://community.rstudio.com/), [StackOverFlow](https://stackoverflow.com/questions/tagged/r), болон [R-bloggers](https://www.r-bloggers.com/) вэбсайтуудаар дамжуулан авах боломжтой |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Командуудын тусламжийг `help [command]` командаар авч болно                                                                                                                                          | Тусламжийг `[function]?` командаар дуудна эсвэл Тусламж хэсэгт хайлт хийнэ                                                                                                                                         |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `* TEXT ;` эсвэл `/* TEXT */` ашиглан кодын тайлбар бичнэ                                                                                                                                            | Чагт тэмдэг (#) ашиглан тайлбар бичнэ                                                                                                                                                                              |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Бараг бүх командууд нь суурин байдаг. Хэрэглэгчид SAS macro, SAS/IML, SAS Component Language (SCL) болон хамгийн сүүлд `Proc Fcmp` болон `Proc Proto` процедурыг ашиглан шинэ функц бичих боломжтой. | R нь **base** функцуудтэй суудаг боловч ердийн хэрэглээний үед CRAN-аас бусад багцуудыг суулгах нь хэвийн үзэгдэл (\[R суурь ойлголтууд\] хуудсыг үзнэ үү)                                                         |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Дүн шинжилгээг ихэвчлэн Editor цонхонд SAS программ бичих замаар хийдэг.                                                                                                                             | Дүн шинжилгээ RStudio үүсвэр хэсэгт R скриптэнд ихэвчлэн бичигддэг. Мөн R markdown скрипт ашиглаж болно.                                                                                                           |
+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Ажлын директор**

+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
| **SAS**                                                                                                                                                                                   | **R**                                                                                                                                          |
+===========================================================================================================================================================================================+================================================================================================================================================+
| Ажлын директор нь үнэмлэхүй эсвэл `%let rootdir=/root path; %include “&rootdir/subfoldername/filename”` ашиглан үндсэн хавтсыг тодорхойлсноор төслийн эх хавтастай харьцангуй байж болно. | Ажлын директор нь үнэмлэхүй эсвэл **here** багцыг ашиглан төслийн үндсэн хавтастай холбоотой байж болно (\[Импорт, экспорт\] хэсгийг үзнэ үү). |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
| `%put %sysfunc(getoption(work));` ашиглан одоогийн ажлын директорийг харна                                                                                                                | `getwd()` эсвэл `here()` (хэрэв **here** багцыг ашиглаж байгаа бол) функцуудыг хоосон хаалттай ашиглана                                        |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+
| `libname “хавтасны байршил”` ашиглан ажлын директорийг тохируулна                                                                                                                         | `setwd(“хавтасны байршил”)` эсвэл `set_here("хавтасны байршил)` (хэрэв **here** багцыг ашиглаж байгаа бол) ашиглана                            |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------+

**Дата импортлох, харах**

+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **SAS**                                                                                                                                                                                                                                           | **R**                                                                                                                                                                                                                                 |
+===================================================================================================================================================================================================================================================+=======================================================================================================================================================================================================================================+
| `Proc Import` процедурыг эсвэл `Data Step Infile` мэдэгдлийг ашиглана.                                                                                                                                                                            | Бараг бүх файлын төрөлд **rio** багцын `import()` функцыг ашиглаж болно. Өөр тусгай функцуудын сонголтууд бий (\[Импорт, экспорт\] хэсгийг үзнэ үү).                                                                                  |
+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| csv файлуудыг уншихдаа `Proc Import datafile=”filename.csv” out=work.filename dbms=CSV; run;`; ЭСВЭЛ [Data Step Infile мэдэгдлийг](https://documentation.sas.com/doc/en/pgmsascdc/9.4_3.5/lestmtsref/n1rill4udj0tfun1fvce3j401plo.htm) ашиглана   | `import("filename.csv")` ашиглана                                                                                                                                                                                                     |
+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| xslx файлуудыг уншихдаа `Proc Import datafile=”filename.xlsx” out=work.filename dbms=xlsx; run;` ЭСВЭЛ [Data Step Infile мэдэгдлийг](https://documentation.sas.com/doc/en/pgmsascdc/9.4_3.5/lestmtsref/n1rill4udj0tfun1fvce3j401plo.htm) ашиглана | `import("filename.xlsx")` ашиглана                                                                                                                                                                                                    |
+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Explorer цонхыг нээж, хүссэн library болон датасетээ сонгосноор шинэ цонхонд датагаа харна                                                                                                                                                        | `View(dataset)` ашиглан RStudio үүсвэр хэсэгт датасетийг харах боломжтой. *Олон датасетийг нэгэн зэрэг хадгалж болдог тул та R-ын функцэд тухайн датасетийнхээ нэрийг зааж өгөх хэрэгтэй. Дээрх функцийн том "V" үсгийг анхаараарай.* |
+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Дататай ажиллах үндсэн командууд**

+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **SAS**                                                                                                                                                              | **R**                                                                                                                                                                         |
+======================================================================================================================================================================+===============================================================================================================================================================================+
| Датасетийн багануудыг ихэвчлэн "хувьсагчид" гэж нэрлэдэг.                                                                                                            | Ихэнхдээ "багана" эсвэл заримдаа "вектор" эсвэл "хувьсагч" гэж нэрлэдэг.                                                                                                      |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Хувьсагч үүсгэхийн тулд тусгай процедур шаардлагагүй. Шинэ хувьсагчийн нэр, дараа нь тэнцүү тэмдэг, дараа нь утгын илэрхийлэл бичих замаар шинэ хувьсагчийг үүсгэнэ. | `mutate(varname = )` функцийг ашиглан шинэ хувьсагч үүсгэнэ. Доорх бүх **dplyr**-ынфункцуудын талаар дэлгэрэнгүйг \[Дата цэвэрлэх болон үндсэн функцууд\] хуудаснаас үзнэ үү. |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `rename *old_name=new_name*` ашиглан хувьсагчдын нэрийг өөрчилнө                                                                                                     | `rename(new_name = old_name)` функцийг ашиглан хувьсагчдын нэрийг өөрчилж болно                                                                                               |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `**keep**=varname` ашиглан хувьсагчдыг үлдээнэ                                                                                                                       | `select()` функцийг ашиглан хаалтан дотор багануудын нэрийг бичин сонгож болно                                                                                                |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `**drop**=varname` ашиглан хувьсагчдыг хасна                                                                                                                         | Хаалтанд хасах тэмдгийн дараа баганын нэрийг бичсэн `select()` функцийг ашиглан багануудыг хасаж болно                                                                        |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Фактор хувьсагчдыг `Label` мэдэгдлийг ашиглан Data Step-д шошголж болно                                                                                              | Баганыг Фактор анги руу хөрвүүлж, түвшинг зааж өгснөөр утгуудыг нь шошголж болно. \[Фактор\] хуудаснаас харна уу. Ихэнх тохиолдолд баганын нэрийг Stata шиг шошголдоггүй.     |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Data Step-д `Where` эсвэл `If` командыг ашиглан бичлэгүүдийг сонгоно. Олон сонголтын нөхцлийг "and" командыг ашиглан тусгаарлана.                                    | Бичлэгүүдийг AND оператор (&) эсвэл таслалаар тусгаарлагдсан олон сонголтын нөхцөл бүхий `filter()` функцийг ашиглан сонгоно.                                                 |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Data Step-д `Merge` мэдэгдлийг ашиглан датасетүүдийг нэгтгэдэг. Нэгтгэх датасетүүдийг эхлээд `Proc Sort` процедурыг ашиглан сортлох шаардлагатай.                    | **dplyr** багц нь датасетүүдийг нэгтгэх хэд хэдэн функцийг санал болгодог. Дэлгэрэнгүйг \[Дата нэгтгэх\] хуудаснаас үзнэ үү.                                                  |
+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Дескриптив дүн шинжилгээ**

+-----------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **SAS**                                                                                                                           | **R**                                                                                                                                                                                                                                       |
+===================================================================================================================================+=============================================================================================================================================================================================================================================+
| Хувьсагчийн нэр болон дескриптив статистикийг харуулдаг `Proc Summary` процедурыг ашиглан датасетийнхээ дээд түвшний тоймыг авна. | `summary(dataset)` эсвэл **skimr** багцын `skim(dataset)` ашиглан датасетийнхээ дээд түвшний тоймыг авна.                                                                                                                                   |
+-----------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `proc freq data=Dataset; Tables varname; Run;` ашиглан хувьсагчийн тоон хүснэгтийг гаргана                                        | \[Дескриптив хүснэгт\] хуудсыг үзнэ үү. Сонголтууд нь **base** R-ын `table()` болон **janitor** багцын `tabyl()` зэрэг функцууд юм. R нь олон датасет агуулж болох тул та датасет болон баганын нэрийг зааж өгөх шаардлагатайг анхаарна уу. |
+-----------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| `proc freq data=Dataset; Tables rowvar*colvar; Run;` ашиглан 2 хувьсагчийн 2х2 хөндлөн хүснэгт гаргаж авна                        | Та \[Дескриптив хүснэгт\] хуудсанд тайлбарласны дагуу `table()`, `tabyl()` эсвэл бусад сонголтыг ашиглаж болно.                                                                                                                             |
+-----------------------------------------------------------------------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

**Зарим хэрэгтэй нэмэлт материалууд:**

[R for SAS and SPSS Users (2011)](https://www.amazon.com/SAS-SPSS-Users-Statistics-Computing/dp/1461406846/ref=sr_1_1?dchild=1&gclid=EAIaIQobChMIoqLOvf6u7wIVAhLnCh1c9w_DEAMYASAAEgJLIfD_BwE&hvadid=241675955927&hvdev=c&hvlocphy=9032185&hvnetw=g&hvqmt=e&hvrand=16854847287059617468&hvtargid=kwd-44746119007&hydadcr=16374_10302157&keywords=r+for+sas+users&qid=1615698213&sr=8-1)

[SAS and R, Second Edition (2014)](https://www.amazon.com/SAS-Management-Statistical-Analysis-Graphics-dp-1466584491/dp/1466584491/ref=dp_ob_title_bk)

## Датаны харилцан ажиллах чадвар

<!-- ======================================================= -->

R багц **rio** нь STATA-ын .dta файл, SAS-ын .xpt, .sas7bdat файлууд, SPSS-ийн .por, .sav файлууд болон бусад олон файлуудыг хэрхэн импортлох, экспортлох боломжтой талаар дэлгэрэнгүйг \[Импорт, экспорт\] хуудаснаас үзнэ үү.
