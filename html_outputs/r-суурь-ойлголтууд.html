<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>3 R суурь ойлголтууд | Тархвар судлаачийн R гарын авлага</title>
<meta name="author" content="гарын авлагын баг">
<meta name="description" content="Тавтай морилно уу! Энэхүү бүлэгт бид R-ын талаарх үндсэн ойлголтуудыг авч үзнэ. Энэ нь дэлгэрэнгүй заавар болох зорилгогүй бөгөөд танд R-ын талаар анхан шатны мэдлэгийг өгч, мөн өмнө ашиглаж...">
<meta name="generator" content="bookdown 0.23 with bs4_book()">
<meta property="og:title" content="3 R суурь ойлголтууд | Тархвар судлаачийн R гарын авлага">
<meta property="og:type" content="book">
<meta property="og:description" content="Тавтай морилно уу! Энэхүү бүлэгт бид R-ын талаарх үндсэн ойлголтуудыг авч үзнэ. Энэ нь дэлгэрэнгүй заавар болох зорилгогүй бөгөөд танд R-ын талаар анхан шатны мэдлэгийг өгч, мөн өмнө ашиглаж...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="3 R суурь ойлголтууд | Тархвар судлаачийн R гарын авлага">
<meta name="twitter:description" content="Тавтай морилно уу! Энэхүү бүлэгт бид R-ын талаарх үндсэн ойлголтуудыг авч үзнэ. Энэ нь дэлгэрэнгүй заавар болох зорилгогүй бөгөөд танд R-ын талаар анхан шатны мэдлэгийг өгч, мөн өмнө ашиглаж...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.2.5.1/tabs.js"></script><script src="libs/bs3compat-0.2.5.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.18/datatables.js"></script><link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/tabwid-1.0.0/tabwid.css" rel="stylesheet">
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script><script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="libs/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script><script src="libs/viz-1.8.2/viz.js"></script><link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="libs/grViz-binding-1.0.6.1/grViz.js"></script><script src="libs/d3-4.5.0/d3.min.js"></script><script src="libs/sankey-1/sankey.js"></script><script src="libs/sankeyNetwork-binding-0.4/sankeyNetwork.js"></script><script src="libs/plotly-binding-4.9.4.1/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><link href="libs/vis-4.20.1/vis.css" rel="stylesheet">
<script src="libs/vis-4.20.1/vis.min.js"></script><script src="libs/visNetwork-binding-2.0.9/visNetwork.js"></script><link href="libs/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="libs/plotly-basic-1.57.1/plotly-basic-1.57.1.min.js"></script><script src="libs/plotly-cartesian-1.57.1/plotly-cartesian-1.57.1.min.js"></script><script src="libs/proj4js-2.3.15/proj4.js"></script><link href="libs/highcharts-8.1.2/css/motion.css" rel="stylesheet">
<script src="libs/highcharts-8.1.2/highcharts.js"></script><script src="libs/highcharts-8.1.2/highcharts-3d.js"></script><script src="libs/highcharts-8.1.2/highcharts-more.js"></script><script src="libs/highcharts-8.1.2/modules/stock.js"></script><script src="libs/highcharts-8.1.2/modules/map.js"></script><script src="libs/highcharts-8.1.2/modules/annotations.js"></script><script src="libs/highcharts-8.1.2/modules/data.js"></script><script src="libs/highcharts-8.1.2/modules/drilldown.js"></script><script src="libs/highcharts-8.1.2/modules/item-series.js"></script><script src="libs/highcharts-8.1.2/modules/offline-exporting.js"></script><script src="libs/highcharts-8.1.2/modules/overlapping-datalabels.js"></script><script src="libs/highcharts-8.1.2/modules/exporting.js"></script><script src="libs/highcharts-8.1.2/modules/export-data.js"></script><script src="libs/highcharts-8.1.2/modules/funnel.js"></script><script src="libs/highcharts-8.1.2/modules/heatmap.js"></script><script src="libs/highcharts-8.1.2/modules/treemap.js"></script><script src="libs/highcharts-8.1.2/modules/sankey.js"></script><script src="libs/highcharts-8.1.2/modules/dependency-wheel.js"></script><script src="libs/highcharts-8.1.2/modules/organization.js"></script><script src="libs/highcharts-8.1.2/modules/solid-gauge.js"></script><script src="libs/highcharts-8.1.2/modules/streamgraph.js"></script><script src="libs/highcharts-8.1.2/modules/sunburst.js"></script><script src="libs/highcharts-8.1.2/modules/vector.js"></script><script src="libs/highcharts-8.1.2/modules/wordcloud.js"></script><script src="libs/highcharts-8.1.2/modules/xrange.js"></script><script src="libs/highcharts-8.1.2/modules/tilemap.js"></script><script src="libs/highcharts-8.1.2/modules/venn.js"></script><script src="libs/highcharts-8.1.2/modules/gantt.js"></script><script src="libs/highcharts-8.1.2/modules/timeline.js"></script><script src="libs/highcharts-8.1.2/modules/parallel-coordinates.js"></script><script src="libs/highcharts-8.1.2/modules/bullet.js"></script><script src="libs/highcharts-8.1.2/modules/coloraxis.js"></script><script src="libs/highcharts-8.1.2/modules/dumbbell.js"></script><script src="libs/highcharts-8.1.2/modules/lollipop.js"></script><script src="libs/highcharts-8.1.2/modules/series-label.js"></script><script src="libs/highcharts-8.1.2/plugins/motion.js"></script><script src="libs/highcharts-8.1.2/custom/reset.js"></script><script src="libs/highcharts-8.1.2/modules/boost.js"></script><script src="libs/highchart-binding-0.8.2/highchart.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style_bs4.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Тархвар судлаачийн R гарын авлага</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"></a></li>
<li class="book-part">Энэхүү номны тухай</li>
<li><a class="" href="%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%86%D0%B8%D0%B9%D0%BD-%D0%B1%D0%BE%D0%BB%D0%BE%D0%BD-%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D0%BA%D0%B8%D0%B9%D0%BD-%D1%82%D1%8D%D0%BC%D0%B4%D1%8D%D0%B3%D0%BB%D1%8D%D0%BB.html"><span class="header-section-number">1</span> Редакцийн болон техникийн тэмдэглэл</a></li>
<li><a class="" href="%D0%B3%D0%B0%D1%80%D1%8B%D0%BD-%D0%B0%D0%B2%D0%BB%D0%B0%D0%B3%D0%B0-%D3%A9%D0%B3%D3%A9%D0%B3%D0%B4%D0%BB%D0%B8%D0%B9%D0%B3-%D1%82%D0%B0%D1%82%D0%B0%D0%B6-%D0%B0%D0%B2%D0%B0%D1%85.html"><span class="header-section-number">2</span> Гарын авлага, өгөгдлийг татаж авах</a></li>
<li class="book-part">Basics</li>
<li><a class="active" href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html"><span class="header-section-number">3</span> R суурь ойлголтууд</a></li>
<li><a class="" href="transition-to-r.html"><span class="header-section-number">4</span> Transition to R</a></li>
<li><a class="" href="%D1%81%D0%B0%D0%BD%D0%B0%D0%BB-%D0%B1%D0%BE%D0%BB%D0%B3%D0%BE%D1%85-%D0%B1%D0%B0%D0%B3%D1%86%D1%83%D1%83%D0%B4.html"><span class="header-section-number">5</span> Санал болгох багцууд</a></li>
<li><a class="" href="r-%D1%82%D3%A9%D1%81%D3%A9%D0%BB.html"><span class="header-section-number">6</span> R төсөл</a></li>
<li><a class="" href="%D1%84%D0%B0%D0%B9%D0%BB-%D0%B7%D3%A9%D3%A9%D0%B6-%D0%BE%D1%80%D1%83%D1%83%D0%BB%D0%B0%D1%85-%D0%B1%D0%BE%D0%BB%D0%BE%D0%BD-%D0%B3%D0%B0%D1%80%D0%B3%D0%B0%D1%85.html"><span class="header-section-number">7</span> Файл зөөж оруулах болон гаргах</a></li>
<li class="book-part">Data Management</li>
<li><a class="" href="cleaning-data-and-core-functions.html"><span class="header-section-number">8</span> Cleaning data and core functions</a></li>
<li><a class="" href="%D0%BE%D0%B3%D0%BD%D0%BE%D0%BE%D1%82%D0%BE%D0%B9-%D0%B0%D0%B6%D0%B8%D0%BB%D0%BB%D0%B0%D1%85-%D0%BD%D1%8C.html"><span class="header-section-number">9</span> Огноотой ажиллах нь</a></li>
<li><a class="" href="characters-and-strings.html"><span class="header-section-number">10</span> Characters and strings</a></li>
<li><a class="" href="factors.html"><span class="header-section-number">11</span> Factors</a></li>
<li><a class="" href="pivoting-data.html"><span class="header-section-number">12</span> Pivoting data</a></li>
<li><a class="" href="grouping-data.html"><span class="header-section-number">13</span> Grouping data</a></li>
<li><a class="" href="joining-data.html"><span class="header-section-number">14</span> Joining data</a></li>
<li><a class="" href="de-duplication.html"><span class="header-section-number">15</span> De-duplication</a></li>
<li><a class="" href="iteration-loops-and-lists.html"><span class="header-section-number">16</span> Iteration, loops, and lists</a></li>
<li class="book-part">Analysis</li>
<li><a class="" href="descriptive-tables.html"><span class="header-section-number">17</span> Descriptive tables</a></li>
<li><a class="" href="simple-statistical-tests.html"><span class="header-section-number">18</span> Simple statistical tests</a></li>
<li><a class="" href="univariate-and-multivariable-regression.html"><span class="header-section-number">19</span> Univariate and multivariable regression</a></li>
<li><a class="" href="missing-data.html"><span class="header-section-number">20</span> Missing data</a></li>
<li><a class="" href="standardised-rates.html"><span class="header-section-number">21</span> Standardised rates</a></li>
<li><a class="" href="moving-averages.html"><span class="header-section-number">22</span> Moving averages</a></li>
<li><a class="" href="time-series-and-outbreak-detection.html"><span class="header-section-number">23</span> Time series and outbreak detection</a></li>
<li><a class="" href="epidemic-modeling.html"><span class="header-section-number">24</span> Epidemic modeling</a></li>
<li><a class="" href="contact-tracing.html"><span class="header-section-number">25</span> Contact tracing</a></li>
<li><a class="" href="survey-analysis.html"><span class="header-section-number">26</span> Survey analysis</a></li>
<li><a class="" href="survival-analysis.html"><span class="header-section-number">27</span> Survival analysis</a></li>
<li><a class="" href="gis-basics.html"><span class="header-section-number">28</span> GIS basics</a></li>
<li class="book-part">Data Visualization</li>
<li><a class="" href="tables-for-presentation.html"><span class="header-section-number">29</span> Tables for presentation</a></li>
<li><a class="" href="ggplot-basics.html"><span class="header-section-number">30</span> ggplot basics</a></li>
<li><a class="" href="ggplot-tips.html"><span class="header-section-number">31</span> ggplot tips</a></li>
<li><a class="" href="epidemic-curves.html"><span class="header-section-number">32</span> Epidemic curves</a></li>
<li><a class="" href="demographic-pyramids-and-likert-scales.html"><span class="header-section-number">33</span> Demographic pyramids and Likert-scales</a></li>
<li><a class="" href="heat-plots.html"><span class="header-section-number">34</span> Heat plots</a></li>
<li><a class="" href="diagrams-and-charts.html"><span class="header-section-number">35</span> Diagrams and charts</a></li>
<li><a class="" href="combinations-analysis.html"><span class="header-section-number">36</span> Combinations analysis</a></li>
<li><a class="" href="transmission-chains.html"><span class="header-section-number">37</span> Transmission chains</a></li>
<li><a class="" href="phylogenetic-trees.html"><span class="header-section-number">38</span> Phylogenetic trees</a></li>
<li><a class="" href="interactive-plots.html"><span class="header-section-number">39</span> Interactive plots</a></li>
<li class="book-part">Reports and dashboards</li>
<li><a class="" href="reports-with-r-markdown.html"><span class="header-section-number">40</span> Reports with R Markdown</a></li>
<li><a class="" href="organizing-routine-reports.html"><span class="header-section-number">41</span> Organizing routine reports</a></li>
<li><a class="" href="dashboards-with-r-markdown.html"><span class="header-section-number">42</span> Dashboards with R Markdown</a></li>
<li><a class="" href="dashboards-with-shiny.html"><span class="header-section-number">43</span> Dashboards with Shiny</a></li>
<li class="book-part">Miscellaneous</li>
<li><a class="" href="writing-functions.html"><span class="header-section-number">44</span> Writing functions</a></li>
<li><a class="" href="directory-interactions.html"><span class="header-section-number">45</span> Directory interactions</a></li>
<li><a class="" href="version-control-and-collaboration-with-git-and-github.html"><span class="header-section-number">46</span> Version control and collaboration with Git and Github</a></li>
<li><a class="" href="common-errors.html"><span class="header-section-number">47</span> Common errors</a></li>
<li><a class="" href="getting-help.html"><span class="header-section-number">48</span> Getting help</a></li>
<li><a class="" href="r-on-network-drives.html"><span class="header-section-number">49</span> R on network drives</a></li>
<li><a class="" href="data-table.html"><span class="header-section-number">50</span> Data Table</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="r-суурь-ойлголтууд" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> R суурь ойлголтууд<a class="anchor" aria-label="anchor" href="#r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4"><i class="fas fa-link"></i></a>
</h1>
<div class="inline-figure"><img src="images/basics_header_close.png" width="100%" style="display: block; margin: auto;"></div>
<p>Тавтай морилно уу!</p>
<p>Энэхүү бүлэгт бид R-ын талаарх үндсэн ойлголтуудыг авч үзнэ. Энэ нь дэлгэрэнгүй заавар болох зорилгогүй бөгөөд танд R-ын талаар анхан шатны мэдлэгийг өгч, мөн өмнө ашиглаж байсан хүмүүст ой санамжаа сэргээхэд тустай байх болно. <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#learning">Сургалтын материалууд</a> хэсэгт илүү дэлгэрэнгүй сургалтын линкүүд буй.</p>
<p>Энэ хуудасны зарим хэсгийг <a href="https://r4epis.netlify.app/">R4Epis төслийн</a> зөвшөөрлөөр бага зэрэг өөрчлөн авч ашигласан.</p>
<p>STATA, SAS, эсвэл Excel-ээс R руу шилжих зөвлөмжийг [R руу шилжих] хуудаснаас үзнэ үү.</p>
<!-- ======================================================= -->
<div id="яагаад-r-г-ашиглана-гэж" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Яагаад R-г ашиглана гэж?<a class="anchor" aria-label="anchor" href="#%D1%8F%D0%B0%D0%B3%D0%B0%D0%B0%D0%B4-r-%D0%B3-%D0%B0%D1%88%D0%B8%D0%B3%D0%BB%D0%B0%D0%BD%D0%B0-%D0%B3%D1%8D%D0%B6"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://www.r-project.org/about.html">R төслийн вэбсайтад</a> дурдсанчлан R бол статистикийн тооцоолол, график хийхэд зориулсан програмчлалын хэл, түүний орчин юм. R нь маш уян хатан, өргөтгөх боломжтой, хөгжил нь хэрэглэгчдээрээ удирдуулдаг программ юм.</p>
<p><strong>Зардал</strong></p>
<p>R ашиглахад үнэгүй! Чөлөөт, нээлттэй эх сурвалжийн эргэн тойрон өндөр ёс зүйтэй байдаг.</p>
<p><strong>Давтагдах чадвар</strong></p>
<p>Дата менежмент, дата анализийг програмчлалын хэлээр (Excel эсвэл бусад голчлон товчлуур дээр дардаг/гараар хийдэг хэрэгслүүдтэй харьцуулахад) хийх нь <strong>давтагдах чадварыг</strong> сайжруулж, <strong>алдааг илрүүлэхэд</strong> амар болж, таны ажлын ачааллыг хөнгөвчилдөг.</p>
<p><strong>Хамт олон</strong></p>
<p>R хэрэглэгчдийн хамт олон маш том бөгөөд нэгэндээ үргэлж туслан хамтран ажилладаг. Амьдрал дээр тулгарч буй олон асуудлыг шийдвэрлэх шинэ багц, хэрэгслүүд өдөр бүр гарч, тэдгээрийг нь R хэрэглэгчид хэрэглэж үзэн байнга шалгаж байдаг. Үүний нэг жишээ болох <a href="https://rladies.org/">R-Ladies</a> нь дэлхий даяар салбартай, R хэрэглэгчдийн хамгийн том байгууллагуудын нэг бөгөөд гол зорилго нь R хэрэглэгчдийн дундах жендэрийн олон талт байдлыг хангах, дэмжих явдал юм. Таны ойролцоо ч салбар нь байдаг байж магадгүй!</p>
</div>
<div id="гол-нэр-томъёо" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Гол нэр томъёо<a class="anchor" aria-label="anchor" href="#%D0%B3%D0%BE%D0%BB-%D0%BD%D1%8D%D1%80-%D1%82%D0%BE%D0%BC%D1%8A%D1%91%D0%BE"><i class="fas fa-link"></i></a>
</h2>
<p><strong>RStudio</strong> - RStudio бол <strong>R</strong>-ийг ашиглахад хялбар болгож буй хэрэглэгчийн график интерфэйс (GUI) юм. Дэлгэрэнгүйг <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#rstudio">RStudio хэсгээс</a> уншина уу.</p>
<p><strong>Объектууд</strong> - Таны R-д хадгалдаг бүх зүйл - датасетүүд, хувьсагч, тосгоны нэрсийн жагсаалт, хүн амын нийт тоо, тэр ч байтугай график гэх мэт гаралтууд - нь нэр оноогдсон объект бөгөөд тэрхүү нэрийг ашиглан дараагийн командуудад дуудаж болдог. Дэлгэрэнгүйг <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#objects">Объектууд хэсгээс</a> уншина уу.</p>
<p><strong>Функцууд</strong> - Функц нь оролтыг хүлээн авч, хувиргасан гаралтыг буцааж өгдөг кодын үйлдэл юм. Дэлгэрэнгүйг <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#functions">Функц хэсгээс</a> уншина уу.</p>
<p><strong>Багцууд</strong> - R багц гэдэг нь функцүүдийн нэгдэл юм. Дэлгэрэнгүй мэдээллийг <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#packages">Багц хэсгээс</a> уншина уу.</p>
<p><strong>Скриптүүд</strong> - Скрипт бол таны командуудыг агуулсан файл юм. Дэлгэрэнгүйг <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#scripts">Скриптүүд хэсгээс</a> уншина уу</p>
</div>
<div id="learning" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> Сургалтын материалууд<a class="anchor" aria-label="anchor" href="#learning"><i class="fas fa-link"></i></a>
</h2>
<div id="rstudio-доторх-материалууд" class="section level3 unnumbered">
<h3>RStudio доторх материалууд<a class="anchor" aria-label="anchor" href="#rstudio-%D0%B4%D0%BE%D1%82%D0%BE%D1%80%D1%85-%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%83%D1%83%D0%B4"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Тусламжийн баримт бичиг</strong></p>
<p>R багц болон функцуудын талаархи баримт бичгийг RStudio-гийн “Help” таб дээрээс хайж болно. Энэ нь Files, Plots болон Packages бүхий хэсэгт байдаг (ихэвчлэн баруун доод хэсэгт). Хурдан хандая гэвэл та R консол дотор асуултын тэмдгийн дараа тухайн багц эсвэл функцын нэрийг бичсэнээр хамааралтай Help хуудсыг нээж болно. Ингэхдээ хаалтгүйгээр бичнэ үү.</p>
<p>Жишээлбэл: <code><a href="https://rdrr.io/r/stats/filter.html">?filter</a></code> эсвэл <code>?diagrammeR</code>.</p>
<p><strong>Интерактив хичээлүүд</strong></p>
<p>RStudio дотор R-ийг интерактив байдлаар сурах хэд хэдэн арга байдаг.</p>
<p>RStudio өөрөө <a href="https://blog.rstudio.com/2020/02/25/rstudio-1-3-integrated-tutorials/">learnr</a> хэмээх R багцаар ажилладаг Tutorial хэсгийг санал болгодог. Ердөө л энэ багцыг суулгаад RStudio-ийн баруун дээд хэсэгт байрлах “Tutorial” табыг ашиглан хичээлээ нээнэ үү (Environment болон History табуудыг агуулсан хэсэг).</p>
<p>R багц <a href="https://swirlstats.com/"><strong>swirl</strong></a>нь R консол дотор ажиллаж болох интерактив курсуудыг санал болгодог. Энэ багцыг суулгаад ачаалсны дараа R консол дээр <code>swirl()</code> (хоосон хаалттай) командыг ажиллуулна уу. Таны консол дээр асуулт гарч ирэх болно. Консол дээрээ бичээд хариулна уу. Ийм байдлаар таны сонгосон хичээлийг удирдан явуулах болно.</p>
</div>
<div id="cheatsheets" class="section level3 unnumbered">
<h3>Cheatsheets<a class="anchor" aria-label="anchor" href="#cheatsheets"><i class="fas fa-link"></i></a>
</h3>
<p><a href="https://rstudio.com/resources/cheatsheets/">RStudio вэбсайт</a> дээр олон PDF “cheatsheets” байдаг, жишээлбэл:</p>
<ul>
<li><p>Факторын <strong>forcats</strong> багц</p></li>
<li><p>Огноо, цагийн <strong>lubridate</strong> багц</p></li>
<li><p>Стрингүүдийн <strong>stringr</strong> багц</p></li>
<li><p>Давтагдах үйлдлүүдэд зориулсан <strong>purrr</strong> багц</p></li>
<li><p>Дата импортлох</p></li>
<li><p><strong>dplyr</strong> багцын дата хувиргах cheatsheet</p></li>
<li><p>R Markdown (PDF, Word, Powerpoint гэх мэт баримт бичиг үүсгэхийн тулд)</p></li>
<li><p>Shiny (интерактив вэб апп бүтээх)</p></li>
<li><p>Дата зураглалын <strong>ggplot2</strong> багц</p></li>
<li><p>Картографи (GIS)</p></li>
<li><p><strong>leaflet</strong> багц (интерактив газрын зураг)</p></li>
<li><p>Python-ийг R-тай хамт ашиглах (<strong>reticulate</strong> багц)</p></li>
</ul>
<p>Энэ бол <a href="https://jules32.github.io/r-for-excel-users/">Excel хэрэглэгчдэд</a> зориулагдсан онлайн материал.</p>
</div>
<div id="twitter" class="section level3 unnumbered">
<h3>Twitter<a class="anchor" aria-label="anchor" href="#twitter"><i class="fas fa-link"></i></a>
</h3>
<p>R нь маш идэвхтэй жиргээчдийн хамт олонтой бөгөөд эндээс та R-тай холбоотой төрөл бүрийн зөвлөгөө, товчлол, мэдээ авч болно. Эдгээр хаягуудыг дагана уу:</p>
<ul>
<li>Биднийг дагаарай! <a href="https://twitter.com/epirhandbook">@epiRhandbook</a><br>
</li>
<li>Өдөрт нэг R функц <a href="https://twitter.com/rfunctionaday">@rfuntionaday</a> хэмээх энэ хаяг бол <em>маш сайн</em> мэдээлэлтэй<br>
</li>
<li>Дата шинжлэх ухаанд R-ыг <a href="https://twitter.com/rstats4ds?lang=en">@rstats4ds</a><br>
</li>
<li>RStudio <a href="https://twitter.com/rstudio?lang=en">@RStudio</a><br>
</li>
<li>RStudio зөвлөгөөнүүд <a href="https://twitter.com/rstudiotips">@rstudiotips</a><br>
</li>
<li>R-Bloggers <a href="https://twitter.com/Rbloggers">@Rbloggers</a><br>
</li>
<li>R-ladies <a href="https://twitter.com/RLadiesGlobal">@RLadiesGlobal</a><br>
</li>
<li>Hadley Wickham <a href="https://twitter.com/hadleywickham?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">@hadleywickham</a>
</li>
</ul>
<p>Мөн:</p>
<p><strong>#epitwitter</strong> болон <strong>#rstats</strong></p>
</div>
<div id="үнэгүй-онлайн-материалууд" class="section level3 unnumbered">
<h3>Үнэгүй онлайн материалууд<a class="anchor" aria-label="anchor" href="#%D2%AF%D0%BD%D1%8D%D0%B3%D2%AF%D0%B9-%D0%BE%D0%BD%D0%BB%D0%B0%D0%B9%D0%BD-%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%83%D1%83%D0%B4"><i class="fas fa-link"></i></a>
</h3>
<p>Hadley Wickham, Garrett Grolemund нарын бичсэн <a href="https://r4ds.had.co.nz/">Дата шинжлэх ухаанд R</a>-ыг ном нь энэ чиглэлийн хамгийн гол сурах бичиг юм.</p>
<p><a href="https://r4epis.netlify.app/">R4Epis төслийн</a> вэбсайт нь “<a href="https://www.msf.org/">MSF</a>-ийн яаралтай тусламжийн нөхцөлд тохиолддог дэгдэлтийн түгээмэл төрлүүд болон хүн амд суурилсан асуумж судалгааны дата цэвэрлэх, анализ хийх, тайлан гаргахад зориулсан стандартчилагдсан хэрэгслүүдийг боловсруулах” зорилготой юм. Та эндээс R-ын анхан шатны сургалтын материалууд, дэгдэлт, асуумж судалгааны RMarkdown тайлангийн загвар болон тэдгээрийг ашиглаж эхлэхэд туслах хичээлүүдийг олж болно.</p>
</div>
<div id="англи-хэлээс-бусад-хэл" class="section level3 unnumbered">
<h3>Англи хэлээс бусад хэл<a class="anchor" aria-label="anchor" href="#%D0%B0%D0%BD%D0%B3%D0%BB%D0%B8-%D1%85%D1%8D%D0%BB%D1%8D%D1%8D%D1%81-%D0%B1%D1%83%D1%81%D0%B0%D0%B4-%D1%85%D1%8D%D0%BB"><i class="fas fa-link"></i></a>
</h3>
<p><a href="https://www.rstudio.com/collections/espanol/">Materiales de RStudio en Español</a></p>
<p><a href="https://juba.github.io/tidyverse/index.html">Introduction à R et au tidyverse (Francais)</a></p>
<!-- ======================================================= -->
</div>
</div>
<div id="суулгалт" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> Суулгалт<a class="anchor" aria-label="anchor" href="#%D1%81%D1%83%D1%83%D0%BB%D0%B3%D0%B0%D0%BB%D1%82"><i class="fas fa-link"></i></a>
</h2>
<div id="r-болон-rstudio" class="section level3 unnumbered">
<h3>R болон RStudio<a class="anchor" aria-label="anchor" href="#r-%D0%B1%D0%BE%D0%BB%D0%BE%D0%BD-rstudio"><i class="fas fa-link"></i></a>
</h3>
<p><strong>R хэрхэн суулгах вэ</strong></p>
<p><a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a> вэбсайт руу орж өөрийн компьютерт тохирсон R-ын хамгийн сүүлийн хувилбарыг татаж авна уу.</p>
<p><strong>RStudio хэрхэн суулгах вэ</strong></p>
<p><a href="https://rstudio.com/products/rstudio/download/" class="uri">https://rstudio.com/products/rstudio/download/</a> вэбсайт руу орж өөрийн компьютерт тохирсон RStudio-гийн хамгийн сүүлийн үеийн үнэгүй хувилбарыг татаж авна уу.</p>
<p><strong>Зөвшөөрлүүд</strong><br>
Та R ба RStudio-г өөрийн унших (read), бичих (write) зөвшөөрөлтэй драйвт суулгах ёстойг анхаарна уу. Тэгэхгүй бол таны R багцуудыг суулгах явцад (түгээмэл тохиолддог) сөргөөр нөлөөлөх болно. Хэрэв танд асуудал тулгарвал RStudio нээх лого дээр хулганы баруун товчийг дараад “Run as administrator” сонгон нээхийг оролдоно уу. Бусад зөвлөмжийг [Сүлжээний драйв дээрх R] хуудаснаас олж болно.</p>
<p><strong>R болон RStudio-г хэрхэн шинэчлэх вэ</strong></p>
<p>R-ийг эхлүүлэх үед консол дээр таны R программын хувилбар харагддаг. Мөн та <code><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo()</a></code> функцийг ажиллуулан харж болно.</p>
<p>R-г шинэчлэхийн тулд дээр дурдсан вэбсайт руу орж R-г дахин суулгаарай. Өөрөөр <strong>installr</strong> багцын (Windows дээр) <code>installr::updateR()</code> функцыг ажиллуулснаар шинэчилж болно. Энэ функц нь танд хамгийн сүүлийн үеийн R хувилбарыг татаж авах, багцуудаа шинэ R хувилбар болгон шинэчлэхэд туслах харилцах цонхыг нээх болно. Дэлгэрэнгүй мэдээллийг <strong>installr</strong> <a href="https://www.r-project.org/nosvn/pandoc/installr.html">баримт бичгээс</a> олж болно.</p>
<p>Ингэж суулгасны дараа R-ын хуучин хувилбар таны компьютер дээр байсаар байх болно гэдгийг анхаарна уу. Та RStudio дээрх “Tools” -&gt; “Global Options” дээр дарж R хувилбарыг сонгож R-ын хуучин хувилбарыг (хуучин “суулгац”) түр ажиллуулж болно. Энэ үйлдэл нь та R-ын хамгийн сүүлийн хувилбарт зориулан шинэчлэгдээгүй байгаа багцыг ашиглах шаардлагатай үед хэрэг болдог.</p>
<p>RStudio-г шинэчлэхийн тулд та дээрх вэбсайт руу орж RStudio-г дахин татаж авах боломжтой. Өөр нэг сонголт нь RStudio дотор “Help” -&gt; “Check for Updates” дээр дарах бөгөөд гэвч энэ нь хамгийн сүүлийн үеийн шинэчлэлтийг харуулахгүй байж магадгүй.</p>
<p>Энэхүү гарын авлагыг бүтээхэд R, RStudio эсвэл багцуудын аль хувилбарыг ашигласан болохыг харахын тулд <a href="%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%86%D0%B8%D0%B9%D0%BD-%D0%B1%D0%BE%D0%BB%D0%BE%D0%BD-%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D0%BA%D0%B8%D0%B9%D0%BD-%D1%82%D1%8D%D0%BC%D0%B4%D1%8D%D0%B3%D0%BB%D1%8D%D0%BB.html#%D1%80%D0%B5%D0%B4%D0%B0%D0%BA%D1%86%D0%B8%D0%B9%D0%BD-%D0%B1%D0%BE%D0%BB%D0%BE%D0%BD-%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D0%BA%D0%B8%D0%B9%D0%BD-%D1%82%D1%8D%D0%BC%D0%B4%D1%8D%D0%B3%D0%BB%D1%8D%D0%BB">Редакцийн болон техникийн тэмдэглэл</a> хуудсыг үзнэ үү.</p>
</div>
<div id="суулгах-шаардлагатай-болж-магадгүй-бусад-програм-хангамж" class="section level3 unnumbered">
<h3>Суулгах шаардлагатай болж магадгүй бусад програм хангамж<a class="anchor" aria-label="anchor" href="#%D1%81%D1%83%D1%83%D0%BB%D0%B3%D0%B0%D1%85-%D1%88%D0%B0%D0%B0%D1%80%D0%B4%D0%BB%D0%B0%D0%B3%D0%B0%D1%82%D0%B0%D0%B9-%D0%B1%D0%BE%D0%BB%D0%B6-%D0%BC%D0%B0%D0%B3%D0%B0%D0%B4%D0%B3%D2%AF%D0%B9-%D0%B1%D1%83%D1%81%D0%B0%D0%B4-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC-%D1%85%D0%B0%D0%BD%D0%B3%D0%B0%D0%BC%D0%B6"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>TinyTeX (<em>RMarkdown-ыг PDF болгон нэгтгэхэд зориулсан</em>)<br>
</li>
<li>Pandoc (<em>RMarkdown-ыг нэгтгэхэд зориулсан</em>)<br>
</li>
<li>RTools (<em>R-ын багцуудыг угсрахад зориулсан</em>)<br>
</li>
<li>phantomjs (<em>халдварын гинжин хэлхээ гэх мэт хөдөлгөөнт сүлжээнүүдийн хөдөлгөөнгүй зургийг хадгалахад зориулсан</em>)</li>
</ul>
<div id="tinytex" class="section level4 unnumbered">
<h4>TinyTex<a class="anchor" aria-label="anchor" href="#tinytex"><i class="fas fa-link"></i></a>
</h4>
<p>TinyTex бол LaTeX-ийн custom түгээлт бөгөөд R-аас PDF үүсгэхэд хэрэгтэй байдаг. Дэлгэрэнгүй мэдээллийг <a href="https://yihui.org/tinytex/" class="uri">https://yihui.org/tinytex/</a> харна уу.</p>
<p>R-аас TinyTex-ийг суулгахын тулд:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">'tinytex'</span><span class="op">)</span>
<span class="fu">tinytex</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tinytex/man/install_tinytex.html">install_tinytex</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># TinyTeX-ийг устгахын тулд tinytex::uninstall_tinytex() ажиллуулна</span></code></pre></div>
</div>
<div id="pandoc" class="section level4 unnumbered">
<h4>Pandoc<a class="anchor" aria-label="anchor" href="#pandoc"><i class="fas fa-link"></i></a>
</h4>
<p>Pandoc бол баримт бичиг хөрвүүлэгч, R-аас тусдаа програм хангамж юм. <strong>Энэ нь RStudio-той цуг ирдэг тул тусад нь татаж авах шаардлагагүй.</strong> Pandoc нь Rmarkdown-ыг .pdf гэх мэт формат руу хөрвүүлэх, комплекс үйлдлүүд хийхэд тусалдаг.</p>
</div>
<div id="rtools" class="section level4 unnumbered">
<h4>RTools<a class="anchor" aria-label="anchor" href="#rtools"><i class="fas fa-link"></i></a>
</h4>
<p>RTools бол R-д зориулсан багц үүсгэх програм хангамжийн цуглуулга юм.</p>
<p>Энэ вэбсайтаас суулгана: <a href="https://cran.r-project.org/bin/windows/Rtools/" class="uri">https://cran.r-project.org/bin/windows/Rtools/</a></p>
</div>
<div id="phantomjs" class="section level4 unnumbered">
<h4>phantomjs<a class="anchor" aria-label="anchor" href="#phantomjs"><i class="fas fa-link"></i></a>
</h4>
<p>Энэ нь ихэвчлэн вэб хуудсуудын “screenshot” авахад ашиглагддаг. Жишээлбэл, та <strong>epicontacts</strong> багц ашиглан халдварын гинжин хэлхээ хийх үед интерактив, динамик HTML файлыг гаргадаг. Хэрэв та үүнээс статик зураг авахыг хүсч байвал энэ үйл явцыг автоматжуулахын тулд <a href="https://wch.github.io/webshot/articles/intro.html"><strong>webshot</strong></a>багцыг ашиглаж болно. Үүний тулд “phantomjs” програм шаардлагатай. Та <strong>webshot</strong> багцаар дамжуулан <code><a href="https://rdrr.io/pkg/webshot/man/install_phantomjs.html">webshot::install_phantomjs()</a></code> командын тусламжтайгаар phantomjs-ийг суулгаж болно.</p>
<!-- ======================================================= -->
</div>
</div>
</div>
<div id="rstudio" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> RStudio<a class="anchor" aria-label="anchor" href="#rstudio"><i class="fas fa-link"></i></a>
</h2>
<div id="rstudio-чиг-баримжаа" class="section level3 unnumbered">
<h3>RStudio чиг баримжаа<a class="anchor" aria-label="anchor" href="#rstudio-%D1%87%D0%B8%D0%B3-%D0%B1%D0%B0%D1%80%D0%B8%D0%BC%D0%B6%D0%B0%D0%B0"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Эхлээд RStudio-г нээ.</strong> Тэдний лого нь хоорондоо маш төстэй харагддаг тул та R биш <em>RStudio</em>-г нээж байгаа эсэхээ шалгаарай.</p>
<p>RStudio-ийг ажиллуулахын тулд та компьютер дээрээ R суулгасан байх ёстой (суулгах зааврыг дээрээс үзнэ үү).</p>
<p><strong>RStudio</strong> нь R ашиглахыг хялбарчилж буй интерфэйс юм (GUI). Та R-ыг машины хөдөлгүүр, гол ажлыг нь хийж байгаа гэж, харин RStudio-г тухайн хөдөлгүүрийг урагшлуулахад тусалдаг машины их бие (суудал, дагалдах хэрэгсэл гэх мэт) гэж ойлгож болно! Та RStudio хэрэглэгчийн интерфэйсийн бүрэн cheatsheet-ийг (PDF) <a href="https://www.rstudio.com/wp-content/uploads/2016/01/rstudio-IDE-cheatsheet.pdf">эндээс</a> үзэх боломжтой.</p>
<p>Хамгийн эхний байдлаар RStudio нь дөрвөн тэгш өнцөгт самбарыг харуулдаг.</p>
<div class="inline-figure"><img src="images/RStudio_overview.PNG" width="100%" style="display: block; margin: auto;"></div>
<p><span style="color: black;"><strong><em>ЗӨВЛӨГӨӨ:</em></strong> Хэрэв таны RStudio зүүн талдаа ганцхан дэлгэцтэй байгаа бол энэ нь та скриптүүд хараахан нээгээгүй байгаатай холбоотой юм.</span></p>
<p><strong>Үүсвэр самбар (Source pane)</strong><br>
Эхний байдлаар зүүн дээд буланд байдаг энэ самбар нь <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#scripts">скриптүүдээ</a> засварлах, ажиллуулах, хадгалах зай юм. Скриптүүд нь таны ажиллуулахыг хүссэн командуудыг агуулдаг. Энэ самбар нь мөн датасетүүд (датафрэйм) харуулах боломжтой.</p>
<p>Stata хэрэглэгчдийн хувьд энэ самбар нь таны Do-file болон Data Editor цонхтой төстэй юм.</p>
<p><strong>R консол самбар (Console pane)</strong></p>
<p>RStudio дотор R консол нь зүүн эсвэл зүүн доод хэсэгт эхний байдлаар байрладаг бөгөөд R-ын “хөдөлгүүр”-ийн гэр юм. Энэ нь командуудын ажилладаг хэсэг бөгөөд график бус гаралт, алдаа/анхааруулах мессеж гарч ирдэг. Та R консолд командуудыг шууд оруулж ажиллуулж болох боловч скриптээс командыг ажиллуулахад хадгалагдаж үлддэг шиг эдгээр командууд хадгалагддаггүй гэдгийг ойлгоорой.</p>
<p>Хэрэв та Stata мэддэг бол R консол нь Command Window болон Results Window-тэй адил юм.</p>
<p><strong>Орчны самбар (Environment Pane)</strong><br>
Програм нээгдэх үед баруун дээд буланд байдаг энэ самбарыг ихэвчлэн тухайн ажиллаж буй үеийн R-ын орчинд буй <a href="#objects#objects#objects#objects#objects#objects#objects">объектуудын</a> товч мэдээллийг харахад ашигладаг. Эдгээр объектууд нь импортолсон, өөрчлөгдсөн эсвэл үүсгэсэн датасетүүд, таны тодорхойлсон параметрүүд (жишээлбэл, тухайн анализад зориулсан тодорхой эпи долоо хоног), эсвэл анализ хийх үед тодорхойлсон векторууд эсвэл листүүд (жишээлбэл, бүс нутгийн нэрс) байж болно. Та датафрэймийн нэрний хажууд байгаа сумыг дарж хувьсагчдыг нь харах боломжтой.</p>
<p>STATA-д энэ нь Variables Manager цонхтой хамгийн төстэй юм.</p>
<p>Энэ самбарт мөн өмнө нь ажиллуулсан командуудыг харах боломжтой <em>History</em> таб орно. Мөн та <strong>learnr</strong> багцыг суулгасан бол интерактив R хичээл хийх боломжтой “Tutorial” таб энд байдаг. Эдгээрээс гадна энэхүү самбарт гадаад холболт хийхэд зориулсан “Connections” таб, Github-тай интерфэйс хийвэл гарч ирдэг “Git” хэмээх табуудыг агуулагддаг.</p>
<p><strong>Plots, Viewer, Packages, болон Help самбар</strong></p>
<p>Баруун доод хэсэгт хэд хэдэн чухал табууд байдаг. Газрын зураг зэргийг багтаасан түгээмэл график дүрслэлүүдийг Plot таб дээр харуулна. Интерактив эсвэл HTML гаралтууд нь Viewer табд гарч ирнэ. Help таб нь баримт бичиг, тусламжийн файлуудыг харуулдаг. Файлын самбар нь файл нээх эсвэл устгахад зориулагдсан хөтөч юм. Packages таб нь танд R багцыг харах, суулгах, шинэчлэх, устгах, ачаалах/буулгах, танд байгаа багцын хувилбарыг харах боломжийг олгодог. Багцын талаар илүү ихийг мэдэхийг хүсвэл доорх <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#packages">багц хэсгээс</a> үзнэ үү.</p>
<p>Энэ самбар нь Stata-гийн Plots Manager болон Project Manager цонхнуудтай төстэй мэдээлэл агуулдаг.</p>
</div>
<div id="rstudio-тохируулгууд" class="section level3 unnumbered">
<h3>RStudio тохируулгууд<a class="anchor" aria-label="anchor" href="#rstudio-%D1%82%D0%BE%D1%85%D0%B8%D1%80%D1%83%D1%83%D0%BB%D0%B3%D1%83%D1%83%D0%B4"><i class="fas fa-link"></i></a>
</h3>
<p>RStudio-ийн тохиргоо болон харагдах байдлыг Tools цэснээс Global Options-ийг сонгон өөрчилнө үү. Тэнд та харагдах байдал/дэвсгэр өнгө зэрэг үндсэн тохиргоонуудыг өөрчилж болно.</p>
<p><img src="images/RStudio_tools_options_1.png" width="50%"><img src="images/RStudio_tools_options.png" width="50%"></p>
<p><strong>Дахин эхлүүлэх (Restart)</strong></p>
<p>Хэрэв таны R гацвал Session цэс рүү ороод “Restart R” дээр дарж R-г дахин эхлүүлж болно. Энэ нь RStudio-г бүхэлд нь хааж, нээхээс зайлсхийдэг. Үүнийг хийснээр таны R орчинд байгаа бүх зүйл устах болно.</p>
</div>
<div id="гарын-товчлолууд-keyboard-shortcuts" class="section level3 unnumbered">
<h3>Гарын товчлолууд (Keyboard shortcuts)<a class="anchor" aria-label="anchor" href="#%D0%B3%D0%B0%D1%80%D1%8B%D0%BD-%D1%82%D0%BE%D0%B2%D1%87%D0%BB%D0%BE%D0%BB%D1%83%D1%83%D0%B4-keyboard-shortcuts"><i class="fas fa-link"></i></a>
</h3>
<p>Зарим тун хэрэгтэй гарын товчлолуудыг доор харуулав. Энэхүү RStudio <a href="https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf">хэрэглэгчийн интерфэйсийн cheatsheet</a>-ийн хоёр дахь хуудаснаас Windows, Mac, Linux-ийн бүх гарын товчлолыг үзнэ үү.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="19%">
<col width="11%">
<col width="68%">
</colgroup>
<thead><tr class="header">
<th>Windows/Linux</th>
<th>Mac</th>
<th>Үйлдэл</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Esc</td>
<td>Esc</td>
<td>Одоогийн командыг зогсоох (хэрэв та санамсаргүйгээр бүрэн бус командыг ажиллуулаад R консол дээр “+” тэмдэг гарчихаад байгаа үед хэрэг болдог)</td>
</tr>
<tr class="even">
<td>Ctrl+s</td>
<td>Cmd+s</td>
<td>Хадгалах (скрипт)</td>
</tr>
<tr class="odd">
<td>Tab</td>
<td>Tab</td>
<td>Автоматаар дүүргэх</td>
</tr>
<tr class="even">
<td>Ctrl + Enter</td>
<td>Cmd + Enter</td>
<td>Одоогийн кодын мөр(үүд)/сонголтыг ажиллуулах</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + C</td>
<td>Cmd + Shift + c</td>
<td>Тодруулсан мөрүүдэд тайлбар нэмэх/тайлбарыг арилгах</td>
</tr>
<tr class="even">
<td>Alt + -</td>
<td>Option + -</td>
<td>
<code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> тэмдэг оруулах</td>
</tr>
<tr class="odd">
<td>Ctrl + Shift + m</td>
<td>Cmd + Shift + m</td>
<td>
<code>%&gt;%</code> тэмдэг оруулах</td>
</tr>
<tr class="even">
<td>Ctrl + l</td>
<td>Cmd + l</td>
<td>R консол цэвэрлэх</td>
</tr>
<tr class="odd">
<td>Ctrl + Alt + b</td>
<td>Cmd + Option + b</td>
<td>Эхнээс одоогийн мөр хүртэл ажиллуулах</td>
</tr>
<tr class="even">
<td>Ctrl + Alt + t</td>
<td>Cmd + Option + t</td>
<td>Одоогийн кодын хэсгийг ажиллуулах (R Markdown)</td>
</tr>
<tr class="odd">
<td>Ctrl + Alt + i</td>
<td>Cmd + Shift + r</td>
<td>Кодын хэсэг оруулах (R Markdown руу)</td>
</tr>
<tr class="even">
<td>Ctrl + Alt + c</td>
<td>Cmd + Option + c</td>
<td>Кодын хэсэг ажиллуулах (R Markdown)</td>
</tr>
<tr class="odd">
<td>R консолд дээшээ/доошоо сумаар</td>
<td>Ижил</td>
<td>Саяхан ажиллуулсан командуудыг сэлгэх</td>
</tr>
<tr class="even">
<td>Скрипт дотор Shift + дээшээ/доошоо сум</td>
<td>Ижил</td>
<td>Олон кодын мөрийг сонгох</td>
</tr>
<tr class="odd">
<td>Ctrl + f</td>
<td>Cmd + f</td>
<td>Одоогийн скрипт дотор хайж олоод солих</td>
</tr>
<tr class="even">
<td>Ctrl + Shift + f</td>
<td>Cmd + Shift + f</td>
<td>Файлуудаас хайх (олон скриптийн дунд хайх/солих)</td>
</tr>
<tr class="odd">
<td>Alt + l</td>
<td>Cmd + Option + l</td>
<td>Сонгосон кодыг хумих</td>
</tr>
<tr class="even">
<td>Shift + Alt + l</td>
<td>Cmd + Shift + Option+l</td>
<td>Сонгосон кодыг дэлгэх</td>
</tr>
</tbody>
</table></div>
<p><span style="color: darkgreen;"><strong><em>ЗӨВЛӨГӨӨ:</em></strong> RStudio-ийн автоматаар дүүргэх үйлдлийг ашиглахын тулд бичихдээ Tab товчлуураа ашиглана уу. Ингэснээр функцын нэрийг буруу бичихээс урьдчилан сэргийлэх боломжтой юм. Бичлэгийн дундаа Tab товчийг дарснаар одоог хүртэл бичсэн байгаа зүйл дээр үндэслэн байж болох боломжит функцууд болон объектуудын жагсаалтыг гаргана.</span></p>
<!-- ======================================================= -->
</div>
</div>
<div id="functions" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> Функцууд<a class="anchor" aria-label="anchor" href="#functions"><i class="fas fa-link"></i></a>
</h2>
<p>Функцууд нь R-ыг ашиглах гол цөм болдог. Функцын тусламжтайгаар та төрөл бүрийн даалгавар, үйлдлүүдийг гүйцэтгэх боломжтой болж буй юм. Нэлээд олон функцууд R-тай хамт суулгагдан ирдэг бөгөөд бусад олон функцуудыг <em>багц</em> хэлбэрээр татаж авах боломжтойгоос (<a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#packages">багцууд</a> хэсэгт тайлбарласан) гадна та өөрийн хүссэн функцээ өөрөө бичиж болно!</p>
<p>Энэхүү функцийн талаархи суурь ойлголтын хэсэгт дараах зүйлийг тайлбарласан болно:</p>
<ul>
<li><p>Функц гэж юу вэ, тэд хэрхэн ажилладаг талаар</p></li>
<li><p>Функцын аргументууд гэж юу болох талаар</p></li>
<li><p>Тодорхой функцийг ойлгоход хэрхэн тусламж авах талаар</p></li>
</ul>
<p><em>Синтаксийн талаархи товч тэмдэглэл:</em> Энэхүү гарын авлагад функцуудыг код-текст маягаар нээлттэй хаалт бүхий бичсэн болно, жишээ нь: <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code>. <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#packages">Багцууд</a> хэсэгт тайлбарласны дагуу функцуудыг <em>багцууд</em> дотор татаж авдаг. Энэхүү гарын авлагад багцын нэрийг <strong>dplyr</strong> гэж байгаа шиг тодоор (<strong>bold</strong>) бичсэн. Заримдаа жишээ код дээр та функцын нэрийг багцын нэртэй хоёр цэгээр (<code><a href="https://rdrr.io/r/base/ns-dblcolon.html">::</a></code>) буюу ийм байдлаар <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code> холбон бичсэн байхыг харж болно. Энэхүү холболтын зорилгыг <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#packages">багцууд</a> хэсэгт тайлбарласан.</p>
<!-- ======================================================= -->
<div id="энгийн-функцууд" class="section level3 unnumbered">
<h3>Энгийн функцууд<a class="anchor" aria-label="anchor" href="#%D1%8D%D0%BD%D0%B3%D0%B8%D0%B9%D0%BD-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D1%83%D1%83%D0%B4"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Функц нь оролтыг хүлээн авч, тэдгээр оролтон дээр ямар нэгэн үйлдэл хийж, гаралт гаргадаг машинтай адил юм.</strong> Ямар гаралт байх нь тухайн функцээс хамаарна.</p>
<p><strong>Функцууд нь ихэвчлэн функцын хаалтанд байрлуулсан зарим объект дээр ажилладаг.</strong> Жишээлбэл, <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> функц нь тооны квадрат язгуурыг тооцоолно:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="fl">49</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 7</code></pre>
<p>Мөн функцэд оруулж буй объект нь датасетийн багана байж болно (бүх төрлийн объектуудын талаар дэлгэрэнгүйг <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#objects">Объектууд</a> хэсгээс үзнэ үү). R нь олон тооны датасет хадгалах боломжтой тул та датасет болон баганыг хоёуланг нь зааж өгөх хэрэгтэй. Үүнийг хийх нэг арга бол $ тэмдэглэгээг ашиглан датасетийн нэр болон баганын нэрийг (<code>dataset$column</code>) холбох юм. Доорх жишээн дээр <code>linelist</code> хэмээх датасетийн <code>age</code> хэмээх тоон баганыг <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> функцэд оруулснаар тухайн баганы тоон болон дутуу утгуудын хураангуй мэдээлэл гарч байна.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># 'linelist' датасетийн 'age' баганы хураангуй статистикүүдийг хэвлэх </span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
##    0.00    6.00   13.00   16.07   23.00   84.00      86</code></pre>
<p><span style="color: black;"><strong><em>ТЭМДЭГЛЭЛ:</em></strong> Хөшигний цаана функц нь хэрэглэгчдэд зориулж нэг хялбар командад багтаасан комплекс нэмэлт кодуудын бүрдэл байдаг.</span></p>
<!-- ======================================================= -->
</div>
<div id="олон-аргументтай-функцууд" class="section level3 unnumbered">
<h3>Олон аргументтай функцууд<a class="anchor" aria-label="anchor" href="#%D0%BE%D0%BB%D0%BE%D0%BD-%D0%B0%D1%80%D0%B3%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%82%D0%B0%D0%B9-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D1%83%D1%83%D0%B4"><i class="fas fa-link"></i></a>
</h3>
<p>Функцууд нь ихэвчлэн таслалаар хоорондоо тусгаарлагдсан, функцын хаалтан дотор байрлах <strong><em>аргумент</em></strong> гэж нэрлэгддэг хэд хэдэн оролтыг шаарддаг.</p>
<ul>
<li><p>Зарим аргумент функцыг ажиллуулахын тулд заавал шаардлагатай байдаг бол зарим нь заавал байх шаардлагагүй</p></li>
<li><p>Заавал байх шаардлагагүй аргументууд нь анхдагч утгатай байдаг</p></li>
<li><p>Аргументууд нь тэмдэгт (character), тоон, логик (ҮНЭН/ХУДАЛ) болон бусад оролтыг авч болно</p></li>
</ul>
<p>Энд ердийн функцийн жишээ болгон <code>oven_bake()</code> гэсэн зохиомол функц байна. Энэ функц нь оролтын объектыг (жишээлбэл, датасет эсвэл энэ жишээнд байгаа шиг “dough”) авч, нэмэлт аргументуудаар тодорхойлсон (<code>minutes =</code> ба <code>temperature =</code>) үйлдлүүдийг гүйцэтгэж байна. Гаралтыг консол дээр шууд хэвлэх эсвэл оноох операторыг (&lt;-) ашиглан объект болгон хадгалах боломжтой .</p>
<div class="inline-figure"><img src="images/Function_Bread_Example.png" width="75%" style="display: block; margin: auto;"></div>
<p><strong>Илүү бодитой жишээ дурдвал</strong> доорхи <code>age_pyramid()</code> команд нь тодорхой насны бүлгүүд болон <code>gender</code> гэх мэт хоёртын баганууд дээр үндэслэн насны пирамидын зургийг гаргадаг. Энэхүү функцэд хаалтан дотор нь таслалаар тусгаарлагдсан гурван аргумент өгөгдсөн байна. Аргументэд өгсөн утгууд нь <code>linelist</code>-ийг ашиглах датафрэймээр, <code>age_cat5</code>-ийг тоолох баганаар, <code>gender</code>-ийг пирамидыг өнгөөр хуваахад ашиглах хоёртын баганаар ашиглаж байна.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># насны пирамид зурах</span>
<span class="fu">age_pyramid</span><span class="op">(</span>data <span class="op">=</span> <span class="va">linelist</span>, age_group <span class="op">=</span> <span class="st">"age_cat5"</span>, split_by <span class="op">=</span> <span class="st">"gender"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-28-1.png" width="75%" height="75%"></div>
<p>Дээрх командыг аргумент бүр шинэ мөрөн дээр байх замаар урт болгон доорхтой адилаар бичиж болно. Ингэж кодоо бичих нь уншихад илүү хялбар, хэсэг тус бүрийг тайлбарлахын тулд <code>#</code>-тэй “тайлбар” бичихэд илүү хялбар болгодог (дэлгэрэнгүй тайлбар хийж явах нь сайн практик!). Энэхүү урт командыг ажиллуулахын тулд та тушаалыг бүхэлд нь тодруулан “Run” дээр дарах эсвэл курсороо эхний мөрөнд байрлуулаад Ctrl, Enter товчлууруудыг нэгэн зэрэг дарж болно.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># насны пирамид зурах</span>
<span class="fu">age_pyramid</span><span class="op">(</span>
  data <span class="op">=</span> <span class="va">linelist</span>,        <span class="co"># тохиолдлын linelist хэрэглэх</span>
  age_group <span class="op">=</span> <span class="st">"age_cat5"</span>, <span class="co"># насны бүлгийн баганыг зааж өгөх</span>
  split_by <span class="op">=</span> <span class="st">"gender"</span>     <span class="co"># 2 талтай пирамид зурахын тулд хүйсийн баганыг ашиглах</span>
  <span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-29-1.png" width="75%" height="75%"></div>
<p>Аргументыг тодорхой дарааллаар бичсэн тохиолдолд (функцын баримт бичигт заасны дагуу) тухайн аргументын эхний хагасыг (жишээ нь, <code>data =</code>) бичих шаардлагагүй. Доорх код нь дээрхтэй яг ижил пирамид үүсгэдэг, учир нь энэхүү функц нь датафрэйм, <code>age_group</code> хувьсагч, <code>split_by</code> хувьсагчийн аргументуудыг яг ийм дараалалтайгаар хүлээж байдаг.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Энэ команд нь дээрхтэй яг ижил график үүсгэх болно</span>
<span class="fu">age_pyramid</span><span class="op">(</span><span class="va">linelist</span>, <span class="st">"age_cat5"</span>, <span class="st">"gender"</span><span class="op">)</span></code></pre></div>
<p><strong>Илүү комплекс <code>age_pyramid()</code> команд нь заавал шаардлагагүй дараахь аргументуудыг агуулж болно:</strong></p>
<ul>
<li><p>Тооны оронд пропорцыг харуулах (анхдагч утга нь <code>FALSE</code> үед <code>proportional = TRUE</code> гэж өөрчилнө)</p></li>
<li><p>Ашиглах хоёр өнгийг тодорхойлох (<code>pal =</code> гэдэг нь “palette” гэсэн үгийн товчлол бөгөөд хоёр өнгөний нэр бүхий вектороор хангагдсан байна. <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> функц хэрхэн вектор үүсгэдэгийг <a href="#objectstructure">объектууд</a> хуудаснаас үзнэ үү)</p></li>
</ul>
<p><span style="color: black;"><strong><em>ТЭМДЭГЛЭЛ:</em></strong> Аргументийн хоёр хэсгийг хоёуланг нь зааж өгсөн (жишээ нь <code>proportional = TRUE</code>) үед тухайн аргумент дарааллын хувьд хаана байрлах нь хамаагүй болно.</span></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">age_pyramid</span><span class="op">(</span>
  <span class="va">linelist</span>,                    <span class="co"># тохиолдлын linelist хэрэглэх</span>
  <span class="st">"age_cat5"</span>,                  <span class="co"># насны бүлгийн багана</span>
  <span class="st">"gender"</span>,                    <span class="co"># хүйсээр хуваах</span>
  proportional <span class="op">=</span> <span class="cn">TRUE</span>,         <span class="co"># тооны оронд хувь хэрэглэх</span>
  pal <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"orange"</span>, <span class="st">"purple"</span><span class="op">)</span>  <span class="co"># өнгөнүүд</span>
  <span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="_main_files/figure-html/unnamed-chunk-30-1.png" width="75%" height="75%"></div>
<!-- ======================================================= -->
</div>
<div id="функц-бичих" class="section level3 unnumbered" data-link="Writing functions">
<h3>Функц бичих<a class="anchor" aria-label="anchor" href="#%D1%84%D1%83%D0%BD%D0%BA%D1%86-%D0%B1%D0%B8%D1%87%D0%B8%D1%85"><i class="fas fa-link"></i></a>
</h3>
<p>R бол функцэд чиглэсэн хэл тул та өөрийн функцийг бичих мэдлэгийг эзэмшсэн байх ёстой. Өөрөө функц бичих нь хэд хэдэн давуу талтай:</p>
<ul>
<li><p>Модульчлагдсан програмчлалыг хөнгөвчлөх - кодыг бие даасан, удирдах боломжтой хэсгүүдэд хуваадаг</p></li>
<li><p>Алдаа гаргах магадлал өндөртэй байдаг давтагдсан copy, paste хийхийг орлох</p></li>
<li><p>Кодын хэсгүүдэд мартагдахааргүй нэр өгөх</p></li>
</ul>
<p>Функцийг хэрхэн бичих талаар Функц бичих хуудсан дээр дэлгэрэнгүй авч үзсэн болно.</p>
<!-- A function is given a name and defined with the assignment operator `<-` to a special **base** R function called `function()`. Within the parentheses, the arguments that the function will accept are defined. This is followed by curly brackets `{ }`, within which the actual code of the function is written.     -->
<!-- The arguments should be provided in the syntax `argument = default`, separated by commas.   -->
<!-- Here is an example where we create a function `staff_calc()` to serve as a staffing calculator for COVID-19 case investigation and contact tracing calls.   -->
<!-- The arguments (inputs) and their default values will be:   -->
<!-- * `daily_cases = NULL` The number of new COVID-19 cases per day   -->
<!-- * `contacts_each = 5` The number contacts enumerated for each case   -->
<!-- * `time_case = 0.5`  Number of hours to complete a case investigaton by phone   -->
<!-- * `time_contact = 0.25`  Number of hours to complete a contact follow-up by phone   -->
<!-- * `time_day = 8` The number of hours one staff works per day   -->
<!-- Below, the function is created. The code ends with the special function `return()`, which is what the function produces.    -->
<!-- ```{r message=FALSE, warning=FALSE, out.width = "75%", out.height="75%"} -->
<!-- staff_calc <- function(daily_cases = NULL, contacts_each = 5, -->
<!--                        time_case = 0.5, time_contact = 0.25, time_day = 8){ -->
<!--   # Define total daily hours for calling cases -->
<!--   case_hours <- daily_cases * time_case  -->
<!--   # Define total daily hours for calling contacts -->
<!--   contact_hours <- daily_cases * contacts_each * time_contact -->
<!--   # Calculate number of staff required -->
<!--   staff_required <- (case_hours + contact_hours)/time_day -->
<!--   return(staff_required) -->
<!-- } -->
<!-- ``` -->
<!-- Once this code is run, the function will be defined and will appear in the R Environment. We can run the function. Below all the default values are used and the `daily_cases = ` is set to 150.   -->
<!-- There are many other nuances to understand when writing functions, as discussed in the page [Writing functions].   -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</div>
</div>
<div id="packages" class="section level2" number="3.7">
<h2>
<span class="header-section-number">3.7</span> Packages<a class="anchor" aria-label="anchor" href="#packages"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Packages contain functions.</strong></p>
<p>An R package is a shareable bundle of code and documentation that contains pre-defined functions. Users in the R community develop packages all the time catered to specific problems, it is likely that one can help with your work! You will install and use hundreds of packages in your use of R.</p>
<p>On installation, R contains <strong>“base”</strong> packages and functions that perform common elementary tasks. But many R users create specialized functions, which are verified by the R community and which you can download as a <strong>package</strong> for your own use. In this handbook, package names are written in <strong>bold</strong>. One of the more challenging aspects of R is that there are often many functions or packages to choose from to complete a given task.</p>
<div id="install-and-load" class="section level3 unnumbered">
<h3>Install and load<a class="anchor" aria-label="anchor" href="#install-and-load"><i class="fas fa-link"></i></a>
</h3>
<p><em>Functions</em> are contained within <strong>packages</strong> which can be downloaded (“installed”) to your computer from the internet. Once a package is downloaded, it is stored in your “library”. You can then access the functions it contains during your current R session by “loading” the package.</p>
<p><em>Think of R as your personal library</em>: When you download a package, your library gains a new book of functions, but each time you want to use a function in that book, you must borrow (“load”) that book from your library.</p>
<p>In summary: to use the functions available in an R package, 2 steps must be implemented:</p>
<ol style="list-style-type: decimal">
<li>The package must be <strong>installed</strong> (once), <em>and</em><br>
</li>
<li>The package must be <strong>loaded</strong> (each R session)</li>
</ol>
<div id="your-library" class="section level4 unnumbered">
<h4>Your library<a class="anchor" aria-label="anchor" href="#your-library"><i class="fas fa-link"></i></a>
</h4>
<p>Your “library” is actually a folder on your computer, containing a folder for each package that has been installed. Find out where R is installed in your computer, and look for a folder called “win-library”. For example: <code>R\win-library\4.0</code> (the 4.0 is the R version - you’ll have a different library for each R version you’ve downloaded).</p>
<p>You can print the file path to your library by entering <code><a href="https://rdrr.io/r/base/libPaths.html">.libPaths()</a></code> (empty parentheses). This becomes especially important if working with <a href="r-on-network-drives.html#r-on-network-drives">R on network drives</a>.</p>
</div>
<div id="install-from-cran" class="section level4 unnumbered">
<h4>Install from CRAN<a class="anchor" aria-label="anchor" href="#install-from-cran"><i class="fas fa-link"></i></a>
</h4>
<p>Most often, R users download packages from CRAN. CRAN (Comprehensive R Archive Network) is an online public warehouse of R packages that have been published by R community members.</p>
<p>Are you worried about viruses and security when downloading a package from CRAN? Read <a href="https://support.rstudio.com/hc/en-us/articles/360042593974-R-and-R-Package-Security">this article</a> on the topic.</p>
</div>
<div id="how-to-install-and-load" class="section level4 unnumbered">
<h4>How to install and load<a class="anchor" aria-label="anchor" href="#how-to-install-and-load"><i class="fas fa-link"></i></a>
</h4>
<p>In this handbook, we suggest using the <strong>pacman</strong> package (short for “package manager”). It offers a convenient function <code>p_load()</code> which will install a package if necessary <em>and</em> load it for use in the current R session.</p>
<p>The syntax quite simple. Just list the names of the packages within the <code>p_load()</code> parentheses, separated by commas. This command will install the <strong>rio</strong>, <strong>tidyverse</strong>, and <strong>here</strong> packages if they are not yet installed, and will load them for use. This makes the <code>p_load()</code> approach convenient and concise if sharing scripts with others. Note that package names are case-sensitive.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Install (if necessary) and load packages for use</span>
<span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">rio</span>, <span class="va">tidyverse</span>, <span class="va">here</span><span class="op">)</span></code></pre></div>
<p>Note that we have used the syntax <code><a href="https://rdrr.io/pkg/pacman/man/p_load.html">pacman::p_load()</a></code> which explicitly writes the package name (<strong>pacman</strong>) prior to the function name (<code>p_load()</code>), connected by two colons <code><a href="https://rdrr.io/r/base/ns-dblcolon.html">::</a></code>. This syntax is useful because it also loads the <strong>pacman</strong> package (assuming it is already installed).</p>
<p>There are alternative <strong>base</strong> R functions that you will see often. The <strong>base</strong> R function for installing a package is <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code>. The name of the package to install must be provided in the parentheses <em>in quotes</em>. If you want to install multiple packages in one command, they must be listed within a character vector <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>.</p>
<p>Note: this command <em>installs</em> a package, but does <em>not</em> load it for use in the current session.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install a single package with base R</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span>

<span class="co"># install multiple packages with base R</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"tidyverse"</span>, <span class="st">"rio"</span>, <span class="st">"here"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Installation can also be accomplished point-and-click by going to the RStudio “Packages” pane and clicking “Install” and searching for the desired package name.</p>
<p>The <strong>base</strong> R function to <strong>load</strong> a package for use (after it has been installed) is <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>. It can load only one package at a time (another reason to use <code>p_load()</code>). You can provide the package name with or without quotes.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># load packages for use, with base R</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leeper/rio">rio</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://here.r-lib.org/">here</a></span><span class="op">)</span></code></pre></div>
<p>To check whether a package in installed and/or loaded, you can view the Packages pane in RStudio. If the package is installed, it is shown there with version number. If its box is checked, it is loaded for the current session.</p>
<p><strong>Install from Github</strong></p>
<p>Sometimes, you need to install a package that is not yet available from CRAN. Or perhaps the package is available on CRAN but you want the <em>development version</em> with new features not yet offered in the more stable published CRAN version. These are often hosted on the website <a href="https://github.com/">github.com</a> in a free, public-facing code “repository”. Read more about Github in the handbook page on <a href="version-control-and-collaboration-with-git-and-github.html#version-control-and-collaboration-with-git-and-github">Version control and collaboration with Git and Github</a>.</p>
<p>To download R packages from Github, you can use the function <code>p_load_gh()</code> from <strong>pacman</strong>, which will install the package if necessary, and load it for use in your current R session. Alternatives to install include using the <strong>remotes</strong> or <strong>devtools</strong> packages. Read more about all the <strong>pacman</strong> functions in the <a href="https://cran.r-project.org/web/packages/pacman/pacman.pdf">package documentation</a>.</p>
<p>To install from Github, you have to provide more information. You must provide:</p>
<ol style="list-style-type: decimal">
<li>The Github ID of the repository owner</li>
<li>The name of the repository that contains the package<br>
</li>
<li><em>(optional) The name of the “branch” (specific development version) you want to download</em></li>
</ol>
<p>In the examples below, the first word in the quotation marks is the Github ID of the repository owner, after the slash is the name of the repository (the name of the package).</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install/load the epicontacts package from its Github repository</span>
<span class="fu">p_load_gh</span><span class="op">(</span><span class="st">"reconhub/epicontacts"</span><span class="op">)</span></code></pre></div>
<p>If you want to install from a “branch” (version) other than the main branch, add the branch name after an “@”, after the repository name.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install the "timeline" branch of the epicontacts package from Github</span>
<span class="fu">p_load_gh</span><span class="op">(</span><span class="st">"reconhub/epicontacts@timeline"</span><span class="op">)</span></code></pre></div>
<p>If there is no difference between the Github version and the version on your computer, no action will be taken. You can “force” a re-install by instead using <code>p_load_current_gh()</code> with the argument <code>update = TRUE</code>. Read more about <strong>pacman</strong> in this <a href="http://trinker.github.io/pacman/vignettes/Introduction_to_pacman.html">online vignette</a></p>
<p><strong>Install from ZIP or TAR</strong></p>
<p>You could install the package from a URL:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">packageurl</span> <span class="op">&lt;-</span> <span class="st">"https://cran.r-project.org/src/contrib/Archive/dsr/dsr_0.2.2.tar.gz"</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="va">packageurl</span>, repos<span class="op">=</span><span class="cn">NULL</span>, type<span class="op">=</span><span class="st">"source"</span><span class="op">)</span></code></pre></div>
<p>Or, download it to your computer in a zipped file:</p>
<p>Option 1: using <code>install_local()</code> from the <strong>remotes</strong> package</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_local.html">install_local</a></span><span class="op">(</span><span class="st">"~/Downloads/dplyr-master.zip"</span><span class="op">)</span></code></pre></div>
<p>Option 2: using <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> from <strong>base</strong> R, providing the file path to the ZIP file and setting <code>type = "source</code> and <code>repos = NULL</code>.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"~/Downloads/dplyr-master.zip"</span>, repos<span class="op">=</span><span class="cn">NULL</span>, type<span class="op">=</span><span class="st">"source"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="code-syntax" class="section level3 unnumbered">
<h3>Code syntax<a class="anchor" aria-label="anchor" href="#code-syntax"><i class="fas fa-link"></i></a>
</h3>
<p>For clarity in this handbook, functions are sometimes preceded by the name of their package using the <code><a href="https://rdrr.io/r/base/ns-dblcolon.html">::</a></code> symbol in the following way: <code>package_name::function_name()</code></p>
<p>Once a package is loaded for a session, this explicit style is not necessary. One can just use <code>function_name()</code>. However writing the package name is useful when a function name is common and may exist in multiple packages (e.g. <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code>). Writing the package name will also load the package if it is not already loaded.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># This command uses the package "rio" and its function "import()" to import a dataset</span>
<span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu">rio</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"linelist.xlsx"</span>, which <span class="op">=</span> <span class="st">"Sheet1"</span><span class="op">)</span></code></pre></div>
</div>
<div id="function-help" class="section level3 unnumbered">
<h3>Function help<a class="anchor" aria-label="anchor" href="#function-help"><i class="fas fa-link"></i></a>
</h3>
<p>To read more about a function, you can search for it in the Help tab of the lower-right RStudio. You can also run a command like <code>?thefunctionname</code> (put the name of the function after a question mark) and the Help page will appear in the Help pane. Finally, try searching online for resources.</p>
</div>
<div id="update-packages" class="section level3 unnumbered">
<h3>Update packages<a class="anchor" aria-label="anchor" href="#update-packages"><i class="fas fa-link"></i></a>
</h3>
<p>You can update packages by re-installing them. You can also click the green “Update” button in your RStudio Packages pane to see which packages have new versions to install. Be aware that your old code may need to be updated if there is a major revision to how a function works!</p>
</div>
<div id="delete-packages" class="section level3 unnumbered">
<h3>Delete packages<a class="anchor" aria-label="anchor" href="#delete-packages"><i class="fas fa-link"></i></a>
</h3>
<p>Use <code>p_delete()</code> from <strong>pacman</strong>, or <code><a href="https://rdrr.io/r/utils/remove.packages.html">remove.packages()</a></code> from <strong>base</strong> R. Alternatively, go find the folder which contains your library and manually delete the folder.</p>
</div>
<div id="dependencies" class="section level3 unnumbered">
<h3>Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"><i class="fas fa-link"></i></a>
</h3>
<p>Packages often depend on other packages to work. These are called dependencies. If a dependency fails to install, then the package depending on it may also fail to install.</p>
<p>See the dependencies of a package with <code>p_depends()</code>, and see which packages depend on it with <code>p_depends_reverse()</code></p>
</div>
<div id="masked-functions" class="section level3 unnumbered">
<h3>Masked functions<a class="anchor" aria-label="anchor" href="#masked-functions"><i class="fas fa-link"></i></a>
</h3>
<p>It is not uncommon that two or more packages contain the same function name. For example, the package <strong>dplyr</strong> has a <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> function, but so does the package <strong>stats</strong>. The default <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> function depends on the order these packages are first loaded in the R session - the later one will be the default for the command <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code>.</p>
<p>You can check the order in your Environment pane of R Studio - click the drop-down for “Global Environment” and see the order of the packages. Functions from packages <em>lower</em> on that drop-down list will mask functions of the same name in packages that appear higher in the drop-down list. When first loading a package, R will warn you in the console if masking is occurring, but this can be easy to miss.</p>
<div class="inline-figure"><img src="images/masking_functions.png" width="50%" style="display: block; margin: auto;"></div>
<p>Here are ways you can fix masking:</p>
<ol style="list-style-type: decimal">
<li>Specify the package name in the command. For example, use <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code><br>
</li>
<li>Re-arrange the order in which the packages are loaded (e.g. within <code>p_load()</code>), and <strong>start a new R session</strong>
</li>
</ol>
</div>
<div id="detach-unload" class="section level3 unnumbered">
<h3>Detach / unload<a class="anchor" aria-label="anchor" href="#detach-unload"><i class="fas fa-link"></i></a>
</h3>
<p>To detach (unload) a package, use this command, with the correct package name and only one colon. Note that this may not resolve masking.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/detach.html">detach</a></span><span class="op">(</span><span class="va">package</span><span class="op">:</span><span class="va">PACKAGE_NAME_HERE</span>, unload<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
</div>
<div id="install-older-version" class="section level3 unnumbered">
<h3>Install older version<a class="anchor" aria-label="anchor" href="#install-older-version"><i class="fas fa-link"></i></a>
</h3>
<p>See this <a href="https://support.rstudio.com/hc/en-us/articles/219949047-Installing-older-versions-of-packages">guide</a> to install an older version of a particular package.</p>
</div>
<div id="suggested-packages" class="section level3 unnumbered">
<h3>Suggested packages<a class="anchor" aria-label="anchor" href="#suggested-packages"><i class="fas fa-link"></i></a>
</h3>
<p>See the page on <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#suggested-packages">Suggested packages</a> for a listing of packages we recommend for everyday epidemiology.</p>
<!-- ======================================================= -->
</div>
</div>
<div id="scripts" class="section level2" number="3.8">
<h2>
<span class="header-section-number">3.8</span> Scripts<a class="anchor" aria-label="anchor" href="#scripts"><i class="fas fa-link"></i></a>
</h2>
<p>Scripts are a fundamental part of programming. They are documents that hold your commands (e.g. functions to create and modify datasets, print visualizations, etc). You can save a script and run it again later. There are many advantages to storing and running your commands from a script (vs. typing commands one-by-one into the R console “command line”):</p>
<ul>
<li>Portability - you can share your work with others by sending them your scripts<br>
</li>
<li>Reproducibility - so that you and others know exactly what you did<br>
</li>
<li>Version control - so you can track changes made by yourself or colleagues<br>
</li>
<li>Commenting/annotation - to explain to your colleagues what you have done</li>
</ul>
<div id="commenting" class="section level3 unnumbered">
<h3>Commenting<a class="anchor" aria-label="anchor" href="#commenting"><i class="fas fa-link"></i></a>
</h3>
<p>In a script you can also annotate (“comment”) around your R code. Commenting is helpful to explain to yourself and other readers what you are doing. You can add a comment by typing the hash symbol (#) and writing your comment after it. The commented text will appear in a different color than the R code.</p>
<p>Any code written after the # will not be run. Therefore, placing a # before code is also a useful way to temporarily block a line of code (“comment out”) if you do not want to delete it). You can comment out/in multiple lines at once by highlighting them and pressing Ctrl+Shift+c (Cmd+Shift+c in Mac).</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># A comment can be on a line by itself</span>
<span class="co"># import data</span>
<span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"linelist_raw.xlsx"</span><span class="op">)</span> <span class="op">%&gt;%</span>   <span class="co"># a comment can also come after code</span>
<span class="co"># filter(age &gt; 50)                          # It can also be used to deactivate / remove a line of code</span>
  <span class="fu">count</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<ul>
<li>Comment on <em>what</em> you are doing <em>and on <strong>why</strong> you are doing it</em>.<br>
</li>
<li>Break your code into logical sections<br>
</li>
<li>Accompany your code with a text step-by-step description of what you are doing (e.g. numbered steps)</li>
</ul>
</div>
<div id="style" class="section level3 unnumbered">
<h3>Style<a class="anchor" aria-label="anchor" href="#style"><i class="fas fa-link"></i></a>
</h3>
<p>It is important to be conscious of your coding style - especially if working on a team. We advocate for the <strong>tidyverse</strong> <a href="https://style.tidyverse.org/">style guide</a>. There are also packages such as <strong>styler</strong> and <strong>lintr</strong> which help you conform to this style.</p>
<p>A few very basic points to make your code readable to others:<br>
* When naming objects, use only lowercase letters, numbers, and underscores <code>_</code>, e.g. <code>my_data</code><br>
* Use frequent spaces, including around operators, e.g. <code>n = 1</code> and <code>age_new &lt;- age_old + 3</code></p>
</div>
<div id="example-script" class="section level3 unnumbered">
<h3>Example Script<a class="anchor" aria-label="anchor" href="#example-script"><i class="fas fa-link"></i></a>
</h3>
<p>Below is an example of a short R script. Remember, the better you succinctly explain your code in comments, the more your colleagues will like you!</p>
<div class="inline-figure"><img src="images/example_script.png" width="100%" style="display: block; margin: auto;"></div>
<!-- ======================================================= -->
</div>
<div id="r-markdown" class="section level3 unnumbered">
<h3>R markdown<a class="anchor" aria-label="anchor" href="#r-markdown"><i class="fas fa-link"></i></a>
</h3>
<p>An R markdown script is a type of R script in which the script itself <em>becomes</em> an output document (PDF, Word, HTML, Powerpoint, etc.). These are incredibly useful and versatile tools often used to create dynamic and automated reports. Even this website and handbook is produced with R markdown scripts!</p>
<p>It is worth noting that beginner R users can also use R Markdown - do not be intimidated! To learn more, see the handbook page on <a href="reports-with-r-markdown.html#reports-with-r-markdown">Reports with R Markdown</a> documents.</p>
<!-- ======================================================= -->
</div>
<div id="r-notebooks" class="section level3 unnumbered">
<h3>R notebooks<a class="anchor" aria-label="anchor" href="#r-notebooks"><i class="fas fa-link"></i></a>
</h3>
<p>There is no difference between writing in a Rmarkdown vs an R notebook. However the execution of the document differs slightly. See this <a href="http://uc-r.github.io/r_notebook">site</a> for more details.</p>
<!-- ======================================================= -->
</div>
<div id="shiny" class="section level3 unnumbered">
<h3>Shiny<a class="anchor" aria-label="anchor" href="#shiny"><i class="fas fa-link"></i></a>
</h3>
<p>Shiny apps/websites are contained within one script, which must be named <code>app.R</code>. This file has three components:</p>
<ol style="list-style-type: decimal">
<li>A user interface (ui)<br>
</li>
<li>A server function<br>
</li>
<li>A call to the <code>shinyApp</code> function</li>
</ol>
<p>See the handbook page on <a href="dashboards-with-shiny.html#dashboards-with-shiny">Dashboards with Shiny</a>, or this online tutorial: <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson1/">Shiny tutorial</a></p>
<p><em>In older times, the above file was split into two files (<code>ui.R</code> and <code>server.R</code>)</em></p>
</div>
<div id="code-folding" class="section level3 unnumbered">
<h3>Code folding<a class="anchor" aria-label="anchor" href="#code-folding"><i class="fas fa-link"></i></a>
</h3>
<p>You can collapse portions of code to make your script easier to read.</p>
<p>To do this, create a text header with #, write your header, and follow it with at least 4 of either dashes (-), hashes (#) or equals (=). When you have done this, a small arrow will appear in the “gutter” to the left (by the row number). You can click this arrow and the code below until the next header will collapse and a dual-arrow icon will appear in its place.</p>
<p>To expand the code, either click the arrow in the gutter again, or the dual-arrow icon. There are also keyboard shortcuts as explained in the <a href="r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4.html#rstudio">RStudio section</a> of this page.</p>
<p>By creating headers with #, you will also activate the Table of Contents at the bottom of your script (see below) that you can use to navigate your script. You can create sub-headers by adding more # symbols, for example # for primary, ## for seconary, and ### for tertiary headers.</p>
<p>Below are two versions of an example script. On the left is the original with commented headers. On the right, four dashes have been written after each header, making them collapsible. Two of them have been collapsed, and you can see that the Table of Contents at the bottom now shows each section.</p>
<p><img src="images/code_folding1.png" width="50%"><img src="images/code_folding2.png" width="50%"></p>
<p>Other areas of code that are automatically eligible for folding include “braced” regions with brackets <code>{ }</code> such as function definitions or conditional blocks (if else statements). You can read more about code folding at the RStudio <a href="https://support.rstudio.com/hc/en-us/articles/200484568-Code-Folding-and-Sections">site</a>.</p>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</div>
</div>
<div id="working-directory" class="section level2" number="3.9">
<h2>
<span class="header-section-number">3.9</span> Working directory<a class="anchor" aria-label="anchor" href="#working-directory"><i class="fas fa-link"></i></a>
</h2>
<p>The working directory is the root folder location used by R for your work - where R looks for and saves files by default. By default, it will save new files and outputs to this location, and will look for files to import (e.g. datasets) here as well.</p>
<p>The working directory appears in grey text at the top of the RStudio Console pane. You can also print the current working directory by running <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code> (leave the parentheses empty).</p>
<div class="inline-figure"><img src="images/working_directory_1.png" width="100%" style="display: block; margin: auto;"></div>
<div id="recommended-approach" class="section level3 unnumbered">
<h3>Recommended approach<a class="anchor" aria-label="anchor" href="#recommended-approach"><i class="fas fa-link"></i></a>
</h3>
<p><strong>See the page on [R projects] for details on our recommended approach to managing your working directory.</strong><br>
A common, efficient, and trouble-free way to manage your working directory and file paths is to combine these 3 elements in an [R project][R projects]-oriented workflow:</p>
<ol style="list-style-type: decimal">
<li>An R Project to store all your files (see page on [R projects])<br>
</li>
<li>The <strong>here</strong> package to locate files (see page on [Import and export])<br>
</li>
<li>The <strong>rio</strong> package to import/export files (see page on [Import and export])</li>
</ol>
<!-- ======================================================= -->
</div>
<div id="set-by-command" class="section level3 unnumbered">
<h3>Set by command<a class="anchor" aria-label="anchor" href="#set-by-command"><i class="fas fa-link"></i></a>
</h3>
<p>Until recently, many people learning R were taught to begin their scripts with a <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> command. Please instead consider using an [R project][R projects]-oriented workflow and read the <a href="https://www.tidyverse.org/blog/2017/12/workflow-vs-script/">reasons for not using <code>setwd()</code></a>. In brief, your work becomes specific to your computer, file paths used to import and export files become “brittle”, and this severely hinders collaboration and use of your code on any other computer. There are easy alternatives!</p>
<p>As noted above, although we do not recommend this approach in most circumstances, you can use the command <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> with the desired folder file path in quotations, for example:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span><span class="op">(</span><span class="st">"C:/Documents/R Files/My analysis"</span><span class="op">)</span></code></pre></div>
<p><span style="color: red;"><strong><em>DANGER:</em></strong> Setting a working directory with <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> <em>can</em> be “brittle” if the file path is specific to one computer. Instead, use file paths relative to an R Project root directory (with the <strong>here</strong> package).</span></p>
<!-- ======================================================= -->
</div>
<div id="set-manually" class="section level3 unnumbered">
<h3>Set manually<a class="anchor" aria-label="anchor" href="#set-manually"><i class="fas fa-link"></i></a>
</h3>
<p>To set the working directory manually (the point-and-click equivalent of <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code>), click the Session drop-down menu and go to “Set Working Directory” and then “Choose Directory”. This will set the working directory for that specific R session. Note: if using this approach, you will have to do this manually each time you open RStudio.</p>
<!-- ======================================================= -->
</div>
<div id="within-an-r-project" class="section level3 unnumbered">
<h3>Within an R project<a class="anchor" aria-label="anchor" href="#within-an-r-project"><i class="fas fa-link"></i></a>
</h3>
<p>If using an R project, the working directory will default to the R project root folder that contains the “.rproj” file. This will apply if you open RStudio by clicking open the R Project (the file with “.rproj” extension).</p>
<!-- ======================================================= -->
</div>
<div id="working-directory-in-an-r-markdown" class="section level3 unnumbered">
<h3>Working directory in an R markdown<a class="anchor" aria-label="anchor" href="#working-directory-in-an-r-markdown"><i class="fas fa-link"></i></a>
</h3>
<p>In an R markdown script, the default working directory is the folder the Rmarkdown file (<code>.Rmd</code>) is saved within. If using an R project and <strong>here</strong> package, this does not apply and the working directory will be <code><a href="https://here.r-lib.org//reference/here.html">here()</a></code> as explained in the [R projects] page.</p>
<p>If you want to change the working directory of a stand-alone R markdown (not in an R project), if you use <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code> this will only apply to that specific code chunk. To make the change for all code chunks in an R markdown, edit the setup chunk to add the <code>root.dir =</code> parameter, such as below:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">knitr</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/knitr/man/opts_knit.html">opts_knit</a></span><span class="op">$</span><span class="fu">set</span><span class="op">(</span>root.dir <span class="op">=</span> <span class="st">'desired/directorypath'</span><span class="op">)</span></code></pre></div>
<p>It is much easier to just use the R markdown within an R project and use the <strong>here</strong> package.</p>
<!-- ======================================================= -->
</div>
<div id="providing-file-paths" class="section level3 unnumbered">
<h3>Providing file paths<a class="anchor" aria-label="anchor" href="#providing-file-paths"><i class="fas fa-link"></i></a>
</h3>
<p>Perhaps the most common source of frustration for an R beginner (at least on a Windows machine) is typing in a file path to import or export data. There is a thorough explanation of how to best input file paths in the [Import and export] page, but here are a few key points:</p>
<p><strong>Broken paths</strong></p>
<p>Below is an example of an “absolute” or “full address” file path. These will likely break if used by another computer. One exception is if you are using a shared/network drive.</p>
<pre><code>C:/Users/Name/Document/Analytic Software/R/Projects/Analysis2019/data/March2019.csv  </code></pre>
<p><strong>Slash direction</strong></p>
<p><em>If typing in a file path, be aware the direction of the slashes.</em> Use <em>forward slashes</em> (<code><a href="https://rdrr.io/r/base/Arithmetic.html">/</a></code>) to separate the components (“data/provincial.csv”). For Windows users, the default way that file paths are displayed is with <em>back slashes</em> (\) - so you will need to change the direction of each slash. If you use the <strong>here</strong> package as described in the [R projects] page the slash direction is not an issue.</p>
<p><strong>Relative file paths</strong></p>
<p>We generally recommend providing “relative” filepaths instead - that is, the path <em>relative to</em> the root of your R Project. You can do this using the <strong>here</strong> package as explained in the [R projects] page. A relativel filepath might look like this:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Import csv linelist from the data/linelist/clean/ sub-folders of an R project</span>
<span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"clean"</span>, <span class="st">"linelists"</span>, <span class="st">"marin_country.csv"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Even if using relative file paths within an R project, you can still use absolute paths to import/export data outside your R project.</p>
<!-- ======================================================= -->
</div>
</div>
<div id="objects" class="section level2" number="3.10">
<h2>
<span class="header-section-number">3.10</span> Objects<a class="anchor" aria-label="anchor" href="#objects"><i class="fas fa-link"></i></a>
</h2>
<p>Everything in R is an object, and R is an “object-oriented” language. These sections will explain:</p>
<ul>
<li>How to create objects (<code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code>)</li>
<li>Types of objects (e.g. data frames, vectors..)<br>
</li>
<li>How to access subparts of objects (e.g. variables in a dataset)<br>
</li>
<li>Classes of objects (e.g. numeric, logical, integer, double, character, factor)</li>
</ul>
<!-- ======================================================= --><div id="everything-is-an-object" class="section level3 unnumbered">
<h3>Everything is an object<a class="anchor" aria-label="anchor" href="#everything-is-an-object"><i class="fas fa-link"></i></a>
</h3>
<p><em>This section is adapted from the <a href="https://r4epis.netlify.app/training/r_basics/objects/">R4Epis project</a>.</em><br>
Everything you store in R - datasets, variables, a list of village names, a total population number, even outputs such as graphs - are <strong>objects</strong> which are <strong>assigned a name</strong> and <strong>can be referenced</strong> in later commands.</p>
<p>An object exists when you have assigned it a value (see the assignment section below). When it is assigned a value, the object appears in the Environment (see the upper right pane of RStudio). It can then be operated upon, manipulated, changed, and re-defined.</p>
<!-- ======================================================= -->
</div>
<div id="defining-objects--" class="section level3 unnumbered">
<h3>Defining objects (<code>&lt;-</code>)<a class="anchor" aria-label="anchor" href="#defining-objects--"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Create objects <em>by assigning them a value</em> with the &lt;- operator.</strong><br>
You can think of the assignment operator <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> as the words “is defined as”. Assignment commands generally follow a standard order:</p>
<p><strong>object_name</strong> &lt;- <strong>value</strong> (or process/calculation that produce a value)</p>
<p>For example, you may want to record the current epidemiological reporting week as an object for reference in later code. In this example, the object <code>current_week</code> is created when it is assigned the value <code>"2018-W10"</code> (the quote marks make this a character value). The object <code>current_week</code> will then appear in the RStudio Environment pane (upper-right) and can be referenced in later commands.</p>
<p>See the R commands and their output in the boxes below.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">current_week</span> <span class="op">&lt;-</span> <span class="st">"2018-W10"</span>   <span class="co"># this command creates the object current_week by assigning it a value</span>
<span class="va">current_week</span>                 <span class="co"># this command prints the current value of current_week object in the console</span></code></pre></div>
<pre><code>## [1] "2018-W10"</code></pre>
<p><span style="color: black;"><strong><em>NOTE:</em></strong> Note the <code>[1]</code> in the R console output is simply indicating that you are viewing the first item of the output</span></p>
<p><span style="color: orange;"><strong><em>CAUTION:</em></strong> <strong>An object’s value can be over-written</strong> at any time by running an assignment command to re-define its value. Thus, the <strong>order of the commands run is very important</strong>.</span></p>
<p>The following command will re-define the value of <code>current_week</code>:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">current_week</span> <span class="op">&lt;-</span> <span class="st">"2018-W51"</span>   <span class="co"># assigns a NEW value to the object current_week</span>
<span class="va">current_week</span>                 <span class="co"># prints the current value of current_week in the console</span></code></pre></div>
<pre><code>## [1] "2018-W51"</code></pre>
<p><strong>Equals signs <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code></strong></p>
<p>You will also see equals signs in R code:</p>
<ul>
<li>A double equals sign <code><a href="https://rdrr.io/r/base/Comparison.html">==</a></code> between two objects or values asks a logical <em>question</em>: “is this equal to that?”.<br>
</li>
<li>You will also see equals signs within functions used to specify values of function arguments (read about these in sections below), for example <code><a href="https://rdrr.io/r/base/Extremes.html">max(age, na.rm = TRUE)</a></code>.<br>
</li>
<li>You <em>can</em> use a single equals sign <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code> in place of <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> to create and define objects, but this is discouraged. You can read about why this is discouraged <a href="https://renkun.me/2014/01/28/difference-between-assignment-operators-in-r/">here</a>.</li>
</ul>
<p><strong>Datasets</strong></p>
<p>Datasets are also objects (typically “dataframes”) and must be assigned names when they are imported. In the code below, the object <code>linelist</code> is created and assigned the value of a CSV file imported with the <strong>rio</strong> package and its <code><a href="https://rdrr.io/pkg/rio/man/import.html">import()</a></code> function.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># linelist is created and assigned the value of the imported CSV file</span>
<span class="va">linelist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rio/man/import.html">import</a></span><span class="op">(</span><span class="st">"my_linelist.csv"</span><span class="op">)</span></code></pre></div>
<p>You can read more about importing and exporting datasets with the section on [Import and export].</p>
<p><span style="color: orange;"><strong><em>CAUTION:</em></strong> A quick note on naming of objects:</span></p>
<ul>
<li>Object names must not contain spaces, but you should use underscore (_) or a period (.) instead of a space.<br>
</li>
<li>Object names are case-sensitive (meaning that Dataset_A is different from dataset_A).</li>
<li>Object names must begin with a letter (cannot begin with a number like 1, 2 or 3).</li>
</ul>
<p><strong>Outputs</strong></p>
<p>Outputs like tables and plots provide an example of how outputs can be saved as objects, or just be printed without being saved. A cross-tabulation of gender and outcome using the <strong>base</strong> R function <code><a href="https://rdrr.io/r/base/table.html">table()</a></code> can be printed directly to the R console (<em>without</em> being saved).</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># printed to R console only</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">gender</span>, <span class="va">linelist</span><span class="op">$</span><span class="va">outcome</span><span class="op">)</span></code></pre></div>
<pre><code>##    
##     Death Recover
##   f  1227     953
##   m  1228     950</code></pre>
<p>But the same table can be saved as a named object. Then, optionally, it can be printed.</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># save</span>
<span class="va">gen_out_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">gender</span>, <span class="va">linelist</span><span class="op">$</span><span class="va">outcome</span><span class="op">)</span>

<span class="co"># print</span>
<span class="va">gen_out_table</span></code></pre></div>
<pre><code>##    
##     Death Recover
##   f  1227     953
##   m  1228     950</code></pre>
<p><strong>Columns</strong></p>
<p>Columns in a dataset are also objects and can be defined, over-written, and created as described below in the section on Columns.</p>
<p>You can use the assignment operator from <strong>base</strong> R to create a new column. Below, the new column <code>bmi</code> (Body Mass Index) is created, and for each row the new value is result of a mathematical operation on the row’s value in the <code>wt_kg</code> and <code>ht_cm</code> columns.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create new "bmi" column using base R syntax</span>
<span class="va">linelist</span><span class="op">$</span><span class="va">bmi</span> <span class="op">&lt;-</span> <span class="va">linelist</span><span class="op">$</span><span class="va">wt_kg</span> <span class="op">/</span> <span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">ht_cm</span><span class="op">/</span><span class="fl">100</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span></code></pre></div>
<p>However, in this handbook, we emphasize a different approach to defining columns, which uses the function <code>mutate()</code> from the <strong>dplyr</strong> package and <em>piping</em> with the pipe operator (<code>%&gt;%</code>). The syntax is easier to read and there are other advantages explained in the page on <a href="cleaning-data-and-core-functions.html#cleaning-data-and-core-functions">Cleaning data and core functions</a>. You can read more about <em>piping</em> in the Piping section below.</p>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create new "bmi" column using dplyr syntax</span>
<span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>bmi <span class="op">=</span> <span class="va">wt_kg</span> <span class="op">/</span> <span class="op">(</span><span class="va">ht_cm</span><span class="op">/</span><span class="fl">100</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="object-structure" class="section level3 unnumbered">
<h3>Object structure<a class="anchor" aria-label="anchor" href="#object-structure"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Objects can be a single piece of data (e.g. <code>my_number &lt;- 24</code>), or they can consist of structured data.</strong></p>
<p>The graphic below is borrowed from <a href="http://venus.ifca.unican.es/Rintro/dataStruct.html">this online R tutorial</a>. It shows some common data structures and their names. Not included in this image is spatial data, which is discussed in the <a href="gis-basics.html#gis-basics">GIS basics</a> page.</p>
<div class="inline-figure"><img src="images/R_data_structures.png" width="75%" height="50%" style="display: block; margin: auto;"></div>
<p>In epidemiology (and particularly field epidemiology), you will <em>most commonly</em> encounter data frames and vectors:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="9%">
<col width="48%">
<col width="42%">
</colgroup>
<thead><tr class="header">
<th>Common structure</th>
<th>Explanation</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Vectors</td>
<td>A container for a sequence of singular objects, all of the same class (e.g. numeric, character).</td>
<td>
<strong>“Variables” (columns) in data frames are vectors</strong> (e.g. the column <code>age_years</code>).</td>
</tr>
<tr class="even">
<td>Data Frames</td>
<td>Vectors (e.g. columns) that are bound together that all have the same number of rows.</td>
<td>
<code>linelist</code> is a data frame.</td>
</tr>
</tbody>
</table></div>
<p>Note that to create a vector that “stands alone” (is not part of a data frame) the function <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> is used to combine the different elements. For example, if creating a vector of colors plot’s color scale: <code>vector_of_colors &lt;- c("blue", "red2", "orange", "grey")</code></p>
<!-- ======================================================= -->
</div>
<div id="object-classes" class="section level3 unnumbered">
<h3>Object classes<a class="anchor" aria-label="anchor" href="#object-classes"><i class="fas fa-link"></i></a>
</h3>
<p>All the objects stored in R have a <em>class</em> which tells R how to handle the object. There are many possible classes, but common ones include:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="4%">
<col width="61%">
<col width="34%">
</colgroup>
<thead><tr class="header">
<th>Class</th>
<th>Explanation</th>
<th>Examples</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Character</td>
<td>These are text/words/sentences <strong>“within quotation marks”</strong>. Math cannot be done on these objects.</td>
<td>“Character objects are in quotation marks”</td>
</tr>
<tr class="even">
<td>Integer</td>
<td>Numbers that are <strong>whole only</strong> (no decimals)</td>
<td>-5, 14, or 2000</td>
</tr>
<tr class="odd">
<td>Numeric</td>
<td>These are numbers and <strong>can include decimals</strong>. If within quotation marks they will be considered character class.</td>
<td>23.1 or 14</td>
</tr>
<tr class="even">
<td>Factor</td>
<td>These are vectors that have a <strong>specified order</strong> or hierarchy of values</td>
<td>An variable of economic status with ordered values</td>
</tr>
<tr class="odd">
<td>Date</td>
<td>
<strong>Once R is told that certain data are Dates</strong>, these data can be manipulated and displayed in special ways. See the page on <a href="%D0%BE%D0%B3%D0%BD%D0%BE%D0%BE%D1%82%D0%BE%D0%B9-%D0%B0%D0%B6%D0%B8%D0%BB%D0%BB%D0%B0%D1%85-%D0%BD%D1%8C.html#working-with-dates">Working with dates</a> for more information.</td>
<td>2018-04-12 or 15/3/1954 or Wed 4 Jan 1980</td>
</tr>
<tr class="even">
<td>Logical</td>
<td>Values must be one of the two special values TRUE or FALSE (note these are <strong>not</strong> “TRUE” and “FALSE” in quotation marks)</td>
<td>TRUE or FALSE</td>
</tr>
<tr class="odd">
<td>data.frame</td>
<td>A data frame is how R stores a <strong>typical dataset</strong>. It consists of vectors (columns) of data bound together, that all have the same number of observations (rows).</td>
<td>The example AJS dataset named <code>linelist_raw</code> contains 68 variables with 300 observations (rows) each.</td>
</tr>
<tr class="even">
<td>tibble</td>
<td>tibbles are a variation on data frame, the main operational difference being that they print more nicely to the console (display first 10 rows and only columns that fit on the screen)</td>
<td>Any data frame, list, or matrix can be converted to a tibble with <code>as_tibble()</code>
</td>
</tr>
<tr class="odd">
<td>list</td>
<td>A list is like vector, but holds other objects that can be other different classes</td>
<td>A list could hold a single number, and a dataframe, and a vector, and even another list within it!</td>
</tr>
</tbody>
</table></div>
<p><strong>You can test the class of an object by providing its name to the function <code><a href="https://rdrr.io/r/base/class.html">class()</a></code></strong>. Note: you can reference a specific column within a dataset using the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> notation to separate the name of the dataset and the name of the column.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">)</span>         <span class="co"># class should be a data frame or tibble</span></code></pre></div>
<pre><code>## [1] "data.frame"</code></pre>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">age</span><span class="op">)</span>     <span class="co"># class should be numeric</span></code></pre></div>
<pre><code>## [1] "numeric"</code></pre>
<div class="sourceCode" id="cb55"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">gender</span><span class="op">)</span>  <span class="co"># class should be character</span></code></pre></div>
<pre><code>## [1] "character"</code></pre>
<p>Sometimes, a column will be converted to a different class automatically by R. Watch out for this! For example, if you have a vector or column of numbers, but a character value is inserted… the entire column will change to class character.</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">num_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span> <span class="co"># define vector as all numbers</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">num_vector</span><span class="op">)</span>          <span class="co"># vector is numeric class</span></code></pre></div>
<pre><code>## [1] "numeric"</code></pre>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">num_vector</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"three"</span>   <span class="co"># convert the third element to a character</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">num_vector</span><span class="op">)</span>          <span class="co"># vector is now character class</span></code></pre></div>
<pre><code>## [1] "character"</code></pre>
<p>One common example of this is when manipulating a data frame in order to print a table - if you make a total row and try to paste/glue together percents in the same cell as numbers (e.g. <code>23 (40%)</code>), the entire numeric column above will convert to character and can no longer be used for mathematical calculations.<strong>Sometimes, you will need to convert objects or columns to another class.</strong></p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="17%">
<col width="82%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Action</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/character.html">as.character()</a></code></td>
<td>Converts to character class</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/numeric.html">as.numeric()</a></code></td>
<td>Converts to numeric class</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/integer.html">as.integer()</a></code></td>
<td>Converts to integer class</td>
</tr>
<tr class="even">
<td><code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code></td>
<td>Converts to Date class - Note: see section on <a href="#dates">dates</a> for details</td>
</tr>
<tr class="odd">
<td><code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code></td>
<td>Converts to factor - Note: re-defining order of value levels requires extra arguments</td>
</tr>
</tbody>
</table></div>
<p>Likewise, there are <strong>base</strong> R functions to check whether an object IS of a specific class, such as <code><a href="https://rdrr.io/r/base/numeric.html">is.numeric()</a></code>, <code><a href="https://rdrr.io/r/base/character.html">is.character()</a></code>, <code><a href="https://rdrr.io/r/base/double.html">is.double()</a></code>, <code><a href="https://rdrr.io/r/base/factor.html">is.factor()</a></code>, <code><a href="https://rdrr.io/r/base/integer.html">is.integer()</a></code></p>
<p>Here is <a href="https://swcarpentry.github.io/r-novice-inflammation/13-supp-data-structures/">more online material on classes and data structures in R</a>.</p>
<!-- ======================================================= -->
</div>
<div id="columnsvariables" class="section level3 unnumbered">
<h3>Columns/Variables (<code>$</code>)<a class="anchor" aria-label="anchor" href="#columnsvariables"><i class="fas fa-link"></i></a>
</h3>
<p><strong>A column in a data frame is technically a “vector” (see table above)</strong> - a series of values that must all be the same class (either character, numeric, logical, etc).</p>
<p>A vector can exist independent of a data frame, for example a vector of column names that you want to include as explanatory variables in a model. To create a “stand alone” vector, use the <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> function as below:</p>
<div class="sourceCode" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># define the stand-alone vector of character values</span>
<span class="va">explanatory_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"gender"</span>, <span class="st">"fever"</span>, <span class="st">"chills"</span>, <span class="st">"cough"</span>, <span class="st">"aches"</span>, <span class="st">"vomit"</span><span class="op">)</span>

<span class="co"># print the values in this named vector</span>
<span class="va">explanatory_vars</span></code></pre></div>
<pre><code>## [1] "gender" "fever"  "chills" "cough"  "aches"  "vomit"</code></pre>
<p><strong>Columns in a data frame are also vectors and can be called, referenced, extracted, or created using the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> symbol.</strong> The <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> symbol connects the name of the column to the name of its data frame. In this handbook, we try to use the word “column” instead of “variable”.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Retrieve the length of the vector age_years</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">age</span><span class="op">)</span> <span class="co"># (age is a column in the linelist data frame)</span></code></pre></div>
<p>By typing the name of the dataframe followed by <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> you will also see a drop-down menu of all columns in the data frame. You can scroll through them using your arrow key, select one with your Enter key, and avoid spelling mistakes!</p>
<div class="inline-figure"><img src="images/Calling_Names.gif" width="100%" style="display: block; margin: auto;"></div>
<p><span style="color: darkgreen;"><strong><em>ADVANCED TIP:</em></strong> Some more complex objects (e.g. a list, or an <code>epicontacts</code> object) may have multiple levels which can be accessed through multiple dollar signs. For example <code>epicontacts$linelist$date_onset</code></span></p>
<!-- ======================================================= -->
</div>
<div id="accessindex-with-brackets" class="section level3 unnumbered">
<h3>Access/index with brackets (<code>[ ]</code>)<a class="anchor" aria-label="anchor" href="#accessindex-with-brackets"><i class="fas fa-link"></i></a>
</h3>
<p>You may need to view parts of objects, also called “indexing”, which is often done using the square brackets <code>[ ]</code>. Using <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> on a dataframe to access a column is also a type of indexing.</p>
<div class="sourceCode" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>, <span class="st">"f"</span><span class="op">)</span>  <span class="co"># define the vector</span>
<span class="va">my_vector</span><span class="op">[</span><span class="fl">5</span><span class="op">]</span>                                  <span class="co"># print the 5th element</span></code></pre></div>
<pre><code>## [1] "e"</code></pre>
<p>Square brackets also work to return specific parts of an returned output, such as the output of a <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> function:</p>
<div class="sourceCode" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># All of the summary</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
##    0.00    6.00   13.00   16.07   23.00   84.00      86</code></pre>
<div class="sourceCode" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Just the second element of the summary, with name (using only single brackets)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">age</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></code></pre></div>
<pre><code>## 1st Qu. 
##       6</code></pre>
<div class="sourceCode" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Just the second element, without name (using double brackets)</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">age</span><span class="op">)</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Extract an element by name, without showing the name</span>
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">$</span><span class="va">age</span><span class="op">)</span><span class="op">[[</span><span class="st">"Median"</span><span class="op">]</span><span class="op">]</span></code></pre></div>
<pre><code>## [1] 13</code></pre>
<p>Brackets also work on data frames to view specific rows and columns. You can do this using the syntax <code>dataframe[rows, columns]</code>:</p>
<div class="sourceCode" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># View a specific row (2) from dataset, with all columns (don't forget the comma!)</span>
<span class="va">linelist</span><span class="op">[</span><span class="fl">2</span>,<span class="op">]</span>

<span class="co"># View all rows, but just one column</span>
<span class="va">linelist</span><span class="op">[</span>, <span class="st">"date_onset"</span><span class="op">]</span>

<span class="co"># View values from row 2 and columns 5 through 10</span>
<span class="va">linelist</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">5</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span> 

<span class="co"># View values from row 2 and columns 5 through 10 and 18</span>
<span class="va">linelist</span><span class="op">[</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span><span class="op">:</span><span class="fl">10</span>, <span class="fl">18</span><span class="op">)</span><span class="op">]</span> 

<span class="co"># View rows 2 through 20, and specific columns</span>
<span class="va">linelist</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"outcome"</span>, <span class="st">"age"</span><span class="op">)</span><span class="op">]</span>

<span class="co"># View rows and columns based on criteria</span>
<span class="co"># *** Note the dataframe must still be named in the criteria!</span>
<span class="va">linelist</span><span class="op">[</span><span class="va">linelist</span><span class="op">$</span><span class="va">age</span> <span class="op">&gt;</span> <span class="fl">25</span> , <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"date_onset"</span>, <span class="st">"outcome"</span>, <span class="st">"age"</span><span class="op">)</span><span class="op">]</span>

<span class="co"># Use View() to see the outputs in the RStudio Viewer pane (easier to read) </span>
<span class="co"># *** Note the capital "V" in View() function</span>
<span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="va">linelist</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">20</span>, <span class="st">"date_onset"</span><span class="op">]</span><span class="op">)</span>

<span class="co"># Save as a new object</span>
<span class="va">new_table</span> <span class="op">&lt;-</span> <span class="va">linelist</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"date_onset"</span><span class="op">)</span><span class="op">]</span> </code></pre></div>
<p>Note that you can also achieve the above row/column indexing on data frames and tibbles using <strong>dplyr</strong> syntax (functions <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> for rows, and <code>select()</code> for columns). Read more about these core functions in the <a href="cleaning-data-and-core-functions.html#cleaning-data-and-core-functions">Cleaning data and core functions</a> page.</p>
<p>To filter based on “row number”, you can use the <strong>dplyr</strong> function <code>row_number()</code> with open parentheses as part of a logical filtering statement. Often you will use the <code><a href="https://rdrr.io/r/base/match.html">%in%</a></code> operator and a range of numbers as part of that logical statement, as shown below. To see the <em>first</em> N rows, you can also use the special <strong>dplyr</strong> function <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code>.</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># View first 100 rows</span>
<span class="va">linelist</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>

<span class="co"># Show row 5 only</span>
<span class="va">linelist</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu">row_number</span><span class="op">(</span><span class="op">)</span> <span class="op">==</span> <span class="fl">5</span><span class="op">)</span>

<span class="co"># View rows 2 through 20, and three specific columns (note no quotes necessary on column names)</span>
<span class="va">linelist</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu">row_number</span><span class="op">(</span><span class="op">)</span> <span class="op">%in%</span> <span class="fl">2</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">select</span><span class="op">(</span><span class="va">date_onset</span>, <span class="va">outcome</span>, <span class="va">age</span><span class="op">)</span></code></pre></div>
<p>When indexing an object of class <strong>list</strong>, single brackets always return with class list, even if only a single object is returned. Double brackets, however, can be used to access a single element and return a different class than list.<br>
Brackets can also be written after one another, as demonstrated below.</p>
<p>This <a href="https://r4ds.had.co.nz/vectors.html#lists-of-condiments">visual explanation of lists indexing, with pepper shakers</a> is humorous and helpful.</p>
<div class="sourceCode" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># define demo list</span>
<span class="va">my_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  <span class="co"># First element in the list is a character vector</span>
  hospitals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Central"</span>, <span class="st">"Empire"</span>, <span class="st">"Santa Anna"</span><span class="op">)</span>,
  
  <span class="co"># second element in the list is a data frame of addresses</span>
  addresses   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
    street <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"145 Medical Way"</span>, <span class="st">"1048 Brown Ave"</span>, <span class="st">"999 El Camino"</span><span class="op">)</span>,
    city   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Andover"</span>, <span class="st">"Hamilton"</span>, <span class="st">"El Paso"</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<p>Here is how the list looks when printed to the console. See how there are two named elements:</p>
<ul>
<li>
<code>hospitals</code>, a character vector<br>
</li>
<li>
<code>addresses</code>, a data frame of addresses</li>
</ul>
<div class="sourceCode" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span></code></pre></div>
<pre><code>## $hospitals
## [1] "Central"    "Empire"     "Santa Anna"
## 
## $addresses
##            street     city
## 1 145 Medical Way  Andover
## 2  1048 Brown Ave Hamilton
## 3   999 El Camino  El Paso</code></pre>
<p>Now we extract, using various methods:</p>
<div class="sourceCode" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="co"># this returns the element in class "list" - the element name is still displayed</span></code></pre></div>
<pre><code>## $hospitals
## [1] "Central"    "Empire"     "Santa Anna"</code></pre>
<div class="sourceCode" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="co"># this returns only the (unnamed) character vector</span></code></pre></div>
<pre><code>## [1] "Central"    "Empire"     "Santa Anna"</code></pre>
<div class="sourceCode" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="st">"hospitals"</span><span class="op">]</span><span class="op">]</span> <span class="co"># you can also index by name of the list element</span></code></pre></div>
<pre><code>## [1] "Central"    "Empire"     "Santa Anna"</code></pre>
<div class="sourceCode" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="co"># this returns the third element of the "hospitals" character vector</span></code></pre></div>
<pre><code>## [1] "Santa Anna"</code></pre>
<div class="sourceCode" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="co"># This returns the first column ("street") of the address data frame</span></code></pre></div>
<pre><code>##            street
## 1 145 Medical Way
## 2  1048 Brown Ave
## 3   999 El Camino</code></pre>
<!-- ======================================================= -->
</div>
<div id="remove-objects" class="section level3 unnumbered">
<h3>Remove objects<a class="anchor" aria-label="anchor" href="#remove-objects"><i class="fas fa-link"></i></a>
</h3>
<p>You can remove individual objects from your R environment by putting the name in the <code><a href="https://rdrr.io/r/base/rm.html">rm()</a></code> function (no quote marks):</p>
<div class="sourceCode" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">object_name</span><span class="op">)</span></code></pre></div>
<p>You can remove all objects (clear your workspace) by running:</p>
<div class="sourceCode" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span>list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span>all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</div>
</div>
<div id="piping" class="section level2" number="3.11">
<h2>
<span class="header-section-number">3.11</span> Piping (<code>%&gt;%</code>)<a class="anchor" aria-label="anchor" href="#piping"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Two general approaches to working with objects are:</strong></p>
<ol style="list-style-type: decimal">
<li>
<strong>Pipes/tidyverse</strong> - pipes send an object from function to function - emphasis is on the <em>action</em>, not the object<br>
</li>
<li>
<strong>Define intermediate objects</strong> - an object is re-defined again and again - emphasis is on the object</li>
</ol>
<!-- ======================================================= --><div id="pipes" class="section level3 unnumbered">
<h3>
<strong>Pipes</strong><a class="anchor" aria-label="anchor" href="#pipes"><i class="fas fa-link"></i></a>
</h3>
<p><strong>Simply explained, the pipe operator (<code>%&gt;%</code>) passes an intermediate output from one function to the next.</strong><br>
You can think of it as saying “then”. Many functions can be linked together with <code>%&gt;%</code>.</p>
<ul>
<li>
<strong>Piping emphasizes a sequence of actions, not the object the actions are being performed on</strong><br>
</li>
<li>Pipes are best when a sequence of actions must be performed on one object<br>
</li>
<li>Pipes come from the package <strong>magrittr</strong>, which is automatically included in packages <strong>dplyr</strong> and <strong>tidyverse</strong>
</li>
<li>Pipes can make code more clean and easier to read, more intuitive</li>
</ul>
<p>Read more on this approach in the tidyverse <a href="https://style.tidyverse.org/pipes.html">style guide</a></p>
<p>Here is a fake example for comparison, using fictional functions to “bake a cake”. First, the pipe method:</p>
<div class="sourceCode" id="cb91"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># A fake example of how to bake a cake using piping syntax</span>

<span class="va">cake</span> <span class="op">&lt;-</span> <span class="va">flour</span> <span class="op">%&gt;%</span>       <span class="co"># to define cake, start with flour, and then...</span>
  <span class="fu">add</span><span class="op">(</span><span class="va">eggs</span><span class="op">)</span> <span class="op">%&gt;%</span>   <span class="co"># add eggs</span>
  <span class="fu">add</span><span class="op">(</span><span class="va">oil</span><span class="op">)</span> <span class="op">%&gt;%</span>    <span class="co"># add oil</span>
  <span class="fu">add</span><span class="op">(</span><span class="va">water</span><span class="op">)</span> <span class="op">%&gt;%</span>  <span class="co"># add water</span>
  <span class="fu">mix_together</span><span class="op">(</span>         <span class="co"># mix together</span>
    utensil <span class="op">=</span> <span class="va">spoon</span>,
    minutes <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">%&gt;%</span>    
  <span class="fu">bake</span><span class="op">(</span>degrees <span class="op">=</span> <span class="fl">350</span>,   <span class="co"># bake</span>
       system <span class="op">=</span> <span class="st">"fahrenheit"</span>,
       minutes <span class="op">=</span> <span class="fl">35</span><span class="op">)</span> <span class="op">%&gt;%</span>  
  <span class="fu">let_cool</span><span class="op">(</span><span class="op">)</span>            <span class="co"># let it cool down</span></code></pre></div>
<p>Here is another <a href="https://cfss.uchicago.edu/notes/pipes/#:~:text=Pipes%20are%20an%20extremely%20useful,code%20and%20combine%20multiple%20operations">link</a> describing the utility of pipes.</p>
<p>Piping is not a <strong>base</strong> function. To use piping, the <strong>magrittr</strong> package must be installed and loaded (this is typically done by loading <strong>tidyverse</strong> or <strong>dplyr</strong> package which include it). You can <a href="https://magrittr.tidyverse.org/">read more about piping in the magrittr documentation</a>.</p>
<p>Note that just like other R commands, pipes can be used to just display the result, or to save/re-save an object, depending on whether the assignment operator <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> is involved. See both below:</p>
<div class="sourceCode" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create or overwrite object, defining as aggregate counts by age category (not printed)</span>
<span class="va">linelist_summary</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op">%&gt;%</span> 
  <span class="fu">count</span><span class="op">(</span><span class="va">age_cat</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Print the table of counts in the console, but don't save it</span>
<span class="va">linelist</span> <span class="op">%&gt;%</span> 
  <span class="fu">count</span><span class="op">(</span><span class="va">age_cat</span><span class="op">)</span></code></pre></div>
<pre><code>##   age_cat    n
## 1     0-4 1095
## 2     5-9 1095
## 3   10-14  941
## 4   15-19  743
## 5   20-29 1073
## 6   30-49  754
## 7   50-69   95
## 8     70+    6
## 9    &lt;NA&gt;   86</code></pre>
<p><strong><code>%&lt;&gt;%</code></strong><br>
This is an “assignment pipe” from the <strong>magrittr</strong> package, which <em>pipes an object forward and also re-defines the object</em>. It must be the first pipe operator in the chain. It is shorthand. The below two commands are equivalent:</p>
<div class="sourceCode" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">age</span> <span class="op">&gt;</span> <span class="fl">50</span><span class="op">)</span>

<span class="va">linelist</span> <span class="op">%&lt;&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">age</span> <span class="op">&gt;</span> <span class="fl">50</span><span class="op">)</span></code></pre></div>
<!-- ======================================================= -->
</div>
<div id="define-intermediate-objects" class="section level3 unnumbered">
<h3>Define intermediate objects<a class="anchor" aria-label="anchor" href="#define-intermediate-objects"><i class="fas fa-link"></i></a>
</h3>
<p>This approach to changing objects/dataframes may be better if:</p>
<ul>
<li>You need to manipulate multiple objects<br>
</li>
<li>There are intermediate steps that are meaningful and deserve separate object names</li>
</ul>
<p><strong>Risks:</strong></p>
<ul>
<li>Creating new objects for each step means creating lots of objects. If you use the wrong one you might not realize it!<br>
</li>
<li>Naming all the objects can be confusing<br>
</li>
<li>Errors may not be easily detectable</li>
</ul>
<p>Either name each intermediate object, or overwrite the original, or combine all the functions together. All come with their own risks.</p>
<p>Below is the same fake “cake” example as above, but using this style:</p>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># a fake example of how to bake a cake using this method (defining intermediate objects)</span>
<span class="va">batter_1</span> <span class="op">&lt;-</span> <span class="fu">left_join</span><span class="op">(</span><span class="va">flour</span>, <span class="va">eggs</span><span class="op">)</span>
<span class="va">batter_2</span> <span class="op">&lt;-</span> <span class="fu">left_join</span><span class="op">(</span><span class="va">batter_1</span>, <span class="va">oil</span><span class="op">)</span>
<span class="va">batter_3</span> <span class="op">&lt;-</span> <span class="fu">left_join</span><span class="op">(</span><span class="va">batter_2</span>, <span class="va">water</span><span class="op">)</span>

<span class="va">batter_4</span> <span class="op">&lt;-</span> <span class="fu">mix_together</span><span class="op">(</span>object <span class="op">=</span> <span class="va">batter_3</span>, utensil <span class="op">=</span> <span class="va">spoon</span>, minutes <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>

<span class="va">cake</span> <span class="op">&lt;-</span> <span class="fu">bake</span><span class="op">(</span><span class="va">batter_4</span>, degrees <span class="op">=</span> <span class="fl">350</span>, system <span class="op">=</span> <span class="st">"fahrenheit"</span>, minutes <span class="op">=</span> <span class="fl">35</span><span class="op">)</span>

<span class="va">cake</span> <span class="op">&lt;-</span> <span class="fu">let_cool</span><span class="op">(</span><span class="va">cake</span><span class="op">)</span></code></pre></div>
<p>Combine all functions together - this is difficult to read:</p>
<div class="sourceCode" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># an example of combining/nesting mutliple functions together - difficult to read</span>
<span class="va">cake</span> <span class="op">&lt;-</span> <span class="fu">let_cool</span><span class="op">(</span><span class="fu">bake</span><span class="op">(</span><span class="fu">mix_together</span><span class="op">(</span><span class="va">batter_3</span>, utensil <span class="op">=</span> <span class="va">spoon</span>, minutes <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, degrees <span class="op">=</span> <span class="fl">350</span>, system <span class="op">=</span> <span class="st">"fahrenheit"</span>, minutes <span class="op">=</span> <span class="fl">35</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<!-- ======================================================= -->
</div>
</div>
<div id="operators" class="section level2" number="3.12">
<h2>
<span class="header-section-number">3.12</span> Key operators and functions<a class="anchor" aria-label="anchor" href="#operators"><i class="fas fa-link"></i></a>
</h2>
<p>This section details operators in R, such as:</p>
<ul>
<li>Definitional operators<br>
</li>
<li>Relational operators (less than, equal too..)<br>
</li>
<li>Logical operators (and, or…)<br>
</li>
<li>Handling missing values<br>
</li>
<li>Mathematical operators and functions (+/-, &gt;, sum(), median(), …)<br>
</li>
<li>The <code><a href="https://rdrr.io/r/base/match.html">%in%</a></code> operator</li>
</ul>
<!-- ======================================================= --><div id="assignment-operators" class="section level3 unnumbered">
<h3>Assignment operators<a class="anchor" aria-label="anchor" href="#assignment-operators"><i class="fas fa-link"></i></a>
</h3>
<p><strong><code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code></strong></p>
<p>The basic assignment operator in R is <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code>. Such that <code>object_name &lt;- value</code>.<br>
This assignment operator can also be written as <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code>. We advise use of <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code> for general R use.<br>
We also advise surrounding such operators with spaces, for readability.</p>
<p><strong><code><a href="https://rdrr.io/r/base/assignOps.html">&lt;&lt;-</a></code></strong></p>
<p>If <a href="writing-functions.html#writing-functions">Writing functions</a>, or using R in an interactive way with sourced scripts, then you may need to use this assignment operator <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;&lt;-</a></code> (from <strong>base</strong> R). This operator is used to define an object in a higher ‘parent’ R Environment. See this <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/assignOps.html">online reference</a>.</p>
<p><strong><code>%&lt;&gt;%</code></strong></p>
<p>This is an “assignment pipe” from the <strong>magrittr</strong> package, which pipes an object forward and <em>also re-defines the object</em>. It must be the first pipe operator in the chain. It is shorthand, as shown below in two equivalent examples:</p>
<div class="sourceCode" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>age_months <span class="op">=</span> <span class="va">age_years</span> <span class="op">*</span> <span class="fl">12</span><span class="op">)</span></code></pre></div>
<p>The above is equivalent to the below:</p>
<div class="sourceCode" id="cb99"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">linelist</span> <span class="op">%&lt;&gt;%</span> <span class="fu">mutate</span><span class="op">(</span>age_months <span class="op">=</span> <span class="va">age_years</span> <span class="op">*</span> <span class="fl">12</span><span class="op">)</span></code></pre></div>
<p><strong><code>%&lt;+%</code></strong></p>
<p>This is used to add data to phylogenetic trees with the <strong>ggtree</strong> package. See the page on <a href="phylogenetic-trees.html#phylogenetic-trees">Phylogenetic trees</a> or this online <a href="https://yulab-smu.top/treedata-book/">resource book</a>.</p>
<!-- ======================================================= -->
</div>
<div id="relational-and-logical-operators" class="section level3 unnumbered">
<h3>Relational and logical operators<a class="anchor" aria-label="anchor" href="#relational-and-logical-operators"><i class="fas fa-link"></i></a>
</h3>
<p>Relational operators compare values and are often used when defining new variables and subsets of datasets. Here are the common relational operators in R:</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="12%">
<col width="6%">
<col width="7%">
<col width="73%">
</colgroup>
<thead><tr class="header">
<th>Meaning</th>
<th>Operator</th>
<th>Example</th>
<th>Example Result</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Equal to</td>
<td><code><a href="https://rdrr.io/r/base/Comparison.html">==</a></code></td>
<td><code>"A" == "a"</code></td>
<td>
<code>FALSE</code> (because R is case sensitive) <em>Note that == (double equals) is different from = (single equals), which acts like the assignment operator <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code></em>
</td>
</tr>
<tr class="even">
<td>Not equal to</td>
<td><code><a href="https://rdrr.io/r/base/Comparison.html">!=</a></code></td>
<td><code>2 != 0</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td>Greater than</td>
<td><code><a href="https://rdrr.io/r/base/Comparison.html">&gt;</a></code></td>
<td><code>4 &gt; 2</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td>Less than</td>
<td><code><a href="https://rdrr.io/r/base/Comparison.html">&lt;</a></code></td>
<td><code>4 &lt; 2</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td>Greater than or equal to</td>
<td><code><a href="https://rdrr.io/r/base/Comparison.html">&gt;=</a></code></td>
<td><code>6 &gt;= 4</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td>Less than or equal to</td>
<td><code><a href="https://rdrr.io/r/base/Comparison.html">&lt;=</a></code></td>
<td><code>6 &lt;= 4</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td>Value is missing</td>
<td><code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code></td>
<td><code><a href="https://rdrr.io/r/base/NA.html">is.na(7)</a></code></td>
<td>
<code>FALSE</code> (see page on <a href="missing-data.html#missing-data">Missing data</a>)</td>
</tr>
<tr class="even">
<td>Value is not missing</td>
<td><code>!is.na()</code></td>
<td><code>!is.na(7)</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table></div>
<p>Logical operators, such as AND and OR, are often used to connect relational operators and create more complicated criteria. Complex statements might require parentheses ( ) for grouping and order of application.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="16%">
<col width="83%">
</colgroup>
<thead><tr class="header">
<th>Meaning</th>
<th>Operator</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>AND</td>
<td><code><a href="https://rdrr.io/r/base/Logic.html">&amp;</a></code></td>
</tr>
<tr class="even">
<td>OR</td>
<td>
<code><a href="https://rdrr.io/r/base/Logic.html">|</a></code> (vertical bar)</td>
</tr>
<tr class="odd">
<td>Parentheses</td>
<td>
<code>( )</code> Used to group criteria together and clarify order of operations</td>
</tr>
</tbody>
</table></div>
<p>For example, below, we have a linelist with two variables we want to use to create our case definition, <code>hep_e_rdt</code>, a test result and <code>other_cases_in_hh</code>, which will tell us if there are other cases in the household. The command below uses the function <code>case_when()</code> to create the new variable <code>case_def</code> such that:</p>
<div class="sourceCode" id="cb100"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">linelist_cleaned</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>case_def <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span>
    <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">rdt_result</span><span class="op">)</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">other_case_in_home</span><span class="op">)</span>            <span class="op">~</span> <span class="cn">NA_character_</span>,
    <span class="va">rdt_result</span> <span class="op">==</span> <span class="st">"Positive"</span>                                 <span class="op">~</span> <span class="st">"Confirmed"</span>,
    <span class="va">rdt_result</span> <span class="op">!=</span> <span class="st">"Positive"</span> <span class="op">&amp;</span> <span class="va">other_cases_in_home</span> <span class="op">==</span> <span class="st">"Yes"</span>  <span class="op">~</span> <span class="st">"Probable"</span>,
    <span class="cn">TRUE</span>                                                     <span class="op">~</span> <span class="st">"Suspected"</span>
  <span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="68%">
<col width="31%">
</colgroup>
<thead><tr class="header">
<th>Criteria in example above</th>
<th>Resulting value in new variable “case_def”</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>If the value for variables <code>rdt_result</code> and <code>other_cases_in_home</code> are missing</td>
<td>
<code>NA</code> (missing)</td>
</tr>
<tr class="even">
<td>If the value in <code>rdt_result</code> is “Positive”</td>
<td>“Confirmed”</td>
</tr>
<tr class="odd">
<td>If the value in <code>rdt_result</code> is NOT “Positive” AND the value in <code>other_cases_in_home</code> is “Yes”</td>
<td>“Probable”</td>
</tr>
<tr class="even">
<td>If one of the above criteria are not met</td>
<td>“Suspected”</td>
</tr>
</tbody>
</table></div>
<p><em>Note that R is case-sensitive, so “Positive” is different than “positive”…</em></p>
<!-- ======================================================= -->
</div>
<div id="missing-values" class="section level3 unnumbered">
<h3>Missing values<a class="anchor" aria-label="anchor" href="#missing-values"><i class="fas fa-link"></i></a>
</h3>
<p>In R, missing values are represented by the special value <code>NA</code> (a “reserved” value) (capital letters N and A - not in quotation marks). If you import data that records missing data in another way (e.g. 99, “Missing”, or .), you may want to re-code those values to <code>NA</code>. How to do this is addressed in the [Import and export] page.</p>
<p><strong>To test whether a value is <code>NA</code>, use the special function <code><a href="https://rdrr.io/r/base/NA.html">is.na()</a></code></strong>, which returns <code>TRUE</code> or <code>FALSE</code>.</p>
<div class="sourceCode" id="cb101"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rdt_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Positive"</span>, <span class="st">"Suspected"</span>, <span class="st">"Positive"</span>, <span class="cn">NA</span><span class="op">)</span>   <span class="co"># two positive cases, one suspected, and one unknown</span>
<span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">rdt_result</span><span class="op">)</span>  <span class="co"># Tests whether the value of rdt_result is NA</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE</code></pre>
<p>Read more about missing, infinite, <code>NULL</code>, and impossible values in the page on <a href="missing-data.html#missing-data">Missing data</a>. Learn how to convert missing values when importing data in the page on [Import and export].</p>
<!-- ======================================================= -->
</div>
<div id="mathematics-and-statistics" class="section level3 unnumbered">
<h3>Mathematics and statistics<a class="anchor" aria-label="anchor" href="#mathematics-and-statistics"><i class="fas fa-link"></i></a>
</h3>
<p>All the operators and functions in this page are automatically available using <strong>base</strong> R.</p>
<div id="mathematical-operators" class="section level4 unnumbered">
<h4>Mathematical operators<a class="anchor" aria-label="anchor" href="#mathematical-operators"><i class="fas fa-link"></i></a>
</h4>
<p>These are often used to perform addition, division, to create new columns, etc. Below are common mathematical operators in R. Whether you put spaces around the operators is not important.</p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Purpose</th>
<th>Example in R</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>addition</td>
<td>2 + 3</td>
</tr>
<tr class="even">
<td>subtraction</td>
<td>2 - 3</td>
</tr>
<tr class="odd">
<td>multiplication</td>
<td>2 * 3</td>
</tr>
<tr class="even">
<td>division</td>
<td>30 / 5</td>
</tr>
<tr class="odd">
<td>exponent</td>
<td>2^3</td>
</tr>
<tr class="even">
<td>order of operations</td>
<td>( )</td>
</tr>
</tbody>
</table></div>
</div>
<div id="mathematical-functions" class="section level4 unnumbered">
<h4>Mathematical functions<a class="anchor" aria-label="anchor" href="#mathematical-functions"><i class="fas fa-link"></i></a>
</h4>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Purpose</th>
<th>Function</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>rounding</td>
<td>round(x, digits = n)</td>
</tr>
<tr class="even">
<td>rounding</td>
<td>janitor::round_half_up(x, digits = n)</td>
</tr>
<tr class="odd">
<td>ceiling (round up)</td>
<td>ceiling(x)</td>
</tr>
<tr class="even">
<td>floor (round down)</td>
<td>floor(x)</td>
</tr>
<tr class="odd">
<td>absolute value</td>
<td>abs(x)</td>
</tr>
<tr class="even">
<td>square root</td>
<td>sqrt(x)</td>
</tr>
<tr class="odd">
<td>exponent</td>
<td>exponent(x)</td>
</tr>
<tr class="even">
<td>natural logarithm</td>
<td>log(x)</td>
</tr>
<tr class="odd">
<td>log base 10</td>
<td>log10(x)</td>
</tr>
<tr class="even">
<td>log base 2</td>
<td>log2(x)</td>
</tr>
</tbody>
</table></div>
<p>Note: for <code><a href="https://rdrr.io/r/base/Round.html">round()</a></code> the <code>digits =</code> specifies the number of decimal placed. Use <code><a href="https://rdrr.io/r/base/Round.html">signif()</a></code> to round to a number of significant figures.</p>
</div>
<div id="scientific-notation" class="section level4 unnumbered">
<h4>Scientific notation<a class="anchor" aria-label="anchor" href="#scientific-notation"><i class="fas fa-link"></i></a>
</h4>
<p>The likelihood of scientific notation being used depends on the value of the <code>scipen</code> option.</p>
<p>From the documentation of <code><a href="https://rdrr.io/r/base/options.html">?options</a></code>: scipen is a penalty to be applied when deciding to print numeric values in fixed or exponential notation. Positive values bias towards fixed and negative towards scientific notation: fixed notation will be preferred unless it is more than ‘scipen’ digits wider.</p>
<p>If it is set to a low number (e.g. 0) it will be “turned on” always. To “turn off” scientific notation in your R session, set it to a very high number, for example:</p>
<div class="sourceCode" id="cb103"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># turn off scientific notation</span>
<span class="fu"><a href="https://rdrr.io/r/base/options.html">options</a></span><span class="op">(</span>scipen<span class="op">=</span><span class="fl">999</span><span class="op">)</span></code></pre></div>
</div>
<div id="rounding" class="section level4 unnumbered">
<h4>Rounding<a class="anchor" aria-label="anchor" href="#rounding"><i class="fas fa-link"></i></a>
</h4>
<p><span style="color: red;"><strong><em>DANGER:</em></strong> <code><a href="https://rdrr.io/r/base/Round.html">round()</a></code> uses “banker’s rounding” which rounds up from a .5 only if the upper number is even. Use <code>round_half_up()</code> from <strong>janitor</strong> to consistently round halves up to the nearest whole number. See <a href="https://cran.r-project.org/web/packages/janitor/vignettes/janitor.html#explore-records-with-duplicated-values-for-specific-combinations-of-variables-with-get_dupes">this explanation</a></span></p>
<div class="sourceCode" id="cb104"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># use the appropriate rounding function for your work</span>
<span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2.5</span>, <span class="fl">3.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 2 4</code></pre>
<div class="sourceCode" id="cb106"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">janitor</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/janitor/man/round_half_up.html">round_half_up</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2.5</span>, <span class="fl">3.5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 3 4</code></pre>
</div>
<div id="statistical-functions" class="section level4 unnumbered">
<h4>Statistical functions<a class="anchor" aria-label="anchor" href="#statistical-functions"><i class="fas fa-link"></i></a>
</h4>
<p><span style="color: orange;"><strong><em>CAUTION:</em></strong> The functions below will by default include missing values in calculations. Missing values will result in an output of <code>NA</code>, unless the argument <code>na.rm = TRUE</code> is specified. This can be written shorthand as <code>na.rm = T</code>.</span></p>
<div class="inline-table"><table class="table table-sm">
<thead><tr class="header">
<th>Objective</th>
<th>Function</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>mean (average)</td>
<td>mean(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>median</td>
<td>median(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>standard deviation</td>
<td>sd(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>quantiles*</td>
<td>quantile(x, probs)</td>
</tr>
<tr class="odd">
<td>sum</td>
<td>sum(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>minimum value</td>
<td>min(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>maximum value</td>
<td>max(x, na.rm=T)</td>
</tr>
<tr class="even">
<td>range of numeric values</td>
<td>range(x, na.rm=T)</td>
</tr>
<tr class="odd">
<td>summary**</td>
<td>summary(x)</td>
</tr>
</tbody>
</table></div>
<p>Notes:</p>
<ul>
<li>
<code>*quantile()</code>: <code>x</code> is the numeric vector to examine, and <code>probs =</code> is a numeric vector with probabilities within 0 and 1.0, e.g <code><a href="https://rdrr.io/r/base/c.html">c(0.5, 0.8, 0.85)</a></code>
</li>
<li>
<code>**summary()</code>: gives a summary on a numeric vector including mean, median, and common percentiles</li>
</ul>
<p><span style="color: red;"><strong><em>DANGER:</em></strong> If providing a vector of numbers to one of the above functions, be sure to wrap the numbers within <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> .</span></p>
<div class="sourceCode" id="cb108"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># If supplying raw numbers to a function, wrap them in c()</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">6</span>, <span class="fl">12</span>, <span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">0</span><span class="op">)</span>    <span class="co"># !!! INCORRECT !!!  </span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb110"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">6</span>, <span class="fl">12</span>, <span class="fl">10</span>, <span class="fl">5</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="co"># CORRECT</span></code></pre></div>
<pre><code>## [1] 5.666667</code></pre>
</div>
<div id="other-useful-functions" class="section level4 unnumbered">
<h4>Other useful functions<a class="anchor" aria-label="anchor" href="#other-useful-functions"><i class="fas fa-link"></i></a>
</h4>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="29%">
<col width="20%">
<col width="50%">
</colgroup>
<thead><tr class="header">
<th>Objective</th>
<th>Function</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>create a sequence</td>
<td>seq(from, to, by)</td>
<td><code><a href="https://rdrr.io/r/base/seq.html">seq(1, 10, 2)</a></code></td>
</tr>
<tr class="even">
<td>repeat x, n times</td>
<td>rep(x, ntimes)</td>
<td>
<code><a href="https://rdrr.io/r/base/rep.html">rep(1:3, 2)</a></code> or <code><a href="https://rdrr.io/r/base/rep.html">rep(c("a", "b", "c"), 3)</a></code>
</td>
</tr>
<tr class="odd">
<td>subdivide a numeric vector</td>
<td>cut(x, n)</td>
<td><code><a href="https://rdrr.io/r/base/cut.html">cut(linelist$age, 5)</a></code></td>
</tr>
<tr class="even">
<td>take a random sample</td>
<td>sample(x, size)</td>
<td><code><a href="https://rdrr.io/r/base/sample.html">sample(linelist$id, size = 5, replace = TRUE)</a></code></td>
</tr>
</tbody>
</table></div>
<!-- ======================================================= -->
</div>
</div>
<div id="in" class="section level3 unnumbered">
<h3>
<code>%in%</code><a class="anchor" aria-label="anchor" href="#in"><i class="fas fa-link"></i></a>
</h3>
<p>A very useful operator for matching values, and for quickly assessing if a value is within a vector or dataframe.</p>
<div class="sourceCode" id="cb112"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">my_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>, <span class="st">"d"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="st">"a"</span> <span class="op">%in%</span> <span class="va">my_vector</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="st">"h"</span> <span class="op">%in%</span> <span class="va">my_vector</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>To ask if a value is <strong>not</strong> <code><a href="https://rdrr.io/r/base/match.html">%in%</a></code> a vector, put an exclamation mark (!) <strong>in front</strong> of the logic statement:</p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># to negate, put an exclamation in front</span>
<span class="op">!</span><span class="st">"a"</span> <span class="op">%in%</span> <span class="va">my_vector</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="op">!</span><span class="st">"h"</span> <span class="op">%in%</span> <span class="va">my_vector</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p><code><a href="https://rdrr.io/r/base/match.html">%in%</a></code> is very useful when using the <strong>dplyr</strong> function <code>case_when()</code>. You can define a vector previously, and then reference it later. For example:</p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">affirmative</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"Yes"</span>, <span class="st">"YES"</span>, <span class="st">"yes"</span>, <span class="st">"y"</span>, <span class="st">"Y"</span>, <span class="st">"oui"</span>, <span class="st">"Oui"</span>, <span class="st">"Si"</span><span class="op">)</span>

<span class="va">linelist</span> <span class="op">&lt;-</span> <span class="va">linelist</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>child_hospitaled <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span>
    <span class="va">hospitalized</span> <span class="op">%in%</span> <span class="va">affirmative</span> <span class="op">&amp;</span> <span class="va">age</span> <span class="op">&lt;</span> <span class="fl">18</span> <span class="op">~</span> <span class="st">"Hospitalized Child"</span>,
    <span class="cn">TRUE</span>                                      <span class="op">~</span> <span class="st">"Not"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Note: If you want to detect a partial string, perhaps using <code>str_detect()</code> from <strong>stringr</strong>, it will not accept a character vector like <code><a href="https://rdrr.io/r/base/c.html">c("1", "Yes", "yes", "y")</a></code>. Instead, it must be given a <em>regular expression</em> - one condensed string with OR bars, such as “1|Yes|yes|y”. For example, <code>str_detect(hospitalized, "1|Yes|yes|y")</code>. See the page on <a href="characters-and-strings.html#characters-and-strings">Characters and strings</a> for more information.</p>
<p>You can convert a character vector to a named regular expression with this command:</p>
<div class="sourceCode" id="cb122"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">affirmative</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1"</span>, <span class="st">"Yes"</span>, <span class="st">"YES"</span>, <span class="st">"yes"</span>, <span class="st">"y"</span>, <span class="st">"Y"</span>, <span class="st">"oui"</span>, <span class="st">"Oui"</span>, <span class="st">"Si"</span><span class="op">)</span>
<span class="va">affirmative</span></code></pre></div>
<pre><code>## [1] "1"   "Yes" "YES" "yes" "y"   "Y"   "oui" "Oui" "Si"</code></pre>
<div class="sourceCode" id="cb124"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># condense to </span>
<span class="va">affirmative_str_search</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">affirmative</span>, collapse <span class="op">=</span> <span class="st">"|"</span><span class="op">)</span>  <span class="co"># option with base R</span>
<span class="va">affirmative_str_search</span> <span class="op">&lt;-</span> <span class="fu">str_c</span><span class="op">(</span><span class="va">affirmative</span>, collapse <span class="op">=</span> <span class="st">"|"</span><span class="op">)</span>   <span class="co"># option with stringr package</span>

<span class="va">affirmative_str_search</span></code></pre></div>
<pre><code>## [1] "1|Yes|YES|yes|y|Y|oui|Oui|Si"</code></pre>
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</div>
</div>
<div id="errors-warnings" class="section level2" number="3.13">
<h2>
<span class="header-section-number">3.13</span> Errors &amp; warnings<a class="anchor" aria-label="anchor" href="#errors-warnings"><i class="fas fa-link"></i></a>
</h2>
<p>This section explains:</p>
<ul>
<li>The difference between errors and warnings<br>
</li>
<li>General syntax tips for writing R code<br>
</li>
<li>Code assists</li>
</ul>
<p>Common errors and warnings and troubleshooting tips can be found in the page on [Errors and help].</p>
<!-- ======================================================= -->
<div id="error-versus-warning" class="section level3 unnumbered">
<h3>Error versus Warning<a class="anchor" aria-label="anchor" href="#error-versus-warning"><i class="fas fa-link"></i></a>
</h3>
<p>When a command is run, the R Console may show you warning or error messages in red text.</p>
<ul>
<li><p>A <strong>warning</strong> means that R has completed your command, but had to take additional steps or produced unusual output that you should be aware of.</p></li>
<li><p>An <strong>error</strong> means that R was not able to complete your command.</p></li>
</ul>
<p>Look for clues:</p>
<ul>
<li><p>The error/warning message will often include a line number for the problem.</p></li>
<li><p>If an object “is unknown” or “not found”, perhaps you spelled it incorrectly, forgot to call a package with library(), or forgot to re-run your script after making changes.</p></li>
</ul>
<p>If all else fails, copy the error message into Google along with some key terms - chances are that someone else has worked through this already!</p>
<!-- ======================================================= -->
</div>
<div id="general-syntax-tips" class="section level3 unnumbered">
<h3>General syntax tips<a class="anchor" aria-label="anchor" href="#general-syntax-tips"><i class="fas fa-link"></i></a>
</h3>
<p>A few things to remember when writing commands in R, to avoid errors and warnings:</p>
<ul>
<li>Always close parentheses - tip: count the number of opening “(” and closing parentheses “)” for each code chunk</li>
<li>Avoid spaces in column and object names. Use underscore ( _ ) or periods ( . ) instead</li>
<li>Keep track of and remember to separate a function’s arguments with commas</li>
<li>R is case-sensitive, meaning <code>Variable_A</code> is <em>different</em> from <code>variable_A</code>
</li>
</ul>
<!-- ======================================================= -->
</div>
<div id="code-assists" class="section level3 unnumbered">
<h3>Code assists<a class="anchor" aria-label="anchor" href="#code-assists"><i class="fas fa-link"></i></a>
</h3>
<p>Any script (RMarkdown or otherwise) will give clues when you have made a mistake. For example, if you forgot to write a comma where it is needed, or to close a parentheses, RStudio will raise a flag on that line, on the right side of the script, to warn you.</p>

<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="%D0%B3%D0%B0%D1%80%D1%8B%D0%BD-%D0%B0%D0%B2%D0%BB%D0%B0%D0%B3%D0%B0-%D3%A9%D0%B3%D3%A9%D0%B3%D0%B4%D0%BB%D0%B8%D0%B9%D0%B3-%D1%82%D0%B0%D1%82%D0%B0%D0%B6-%D0%B0%D0%B2%D0%B0%D1%85.html"><span class="header-section-number">2</span> Гарын авлага, өгөгдлийг татаж авах</a></div>
<div class="next"><a href="transition-to-r.html"><span class="header-section-number">4</span> Transition to R</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-%D1%81%D1%83%D1%83%D1%80%D1%8C-%D0%BE%D0%B9%D0%BB%D0%B3%D0%BE%D0%BB%D1%82%D1%83%D1%83%D0%B4"><span class="header-section-number">3</span> R суурь ойлголтууд</a></li>
<li><a class="nav-link" href="#%D1%8F%D0%B0%D0%B3%D0%B0%D0%B0%D0%B4-r-%D0%B3-%D0%B0%D1%88%D0%B8%D0%B3%D0%BB%D0%B0%D0%BD%D0%B0-%D0%B3%D1%8D%D0%B6"><span class="header-section-number">3.1</span> Яагаад R-г ашиглана гэж?</a></li>
<li><a class="nav-link" href="#%D0%B3%D0%BE%D0%BB-%D0%BD%D1%8D%D1%80-%D1%82%D0%BE%D0%BC%D1%8A%D1%91%D0%BE"><span class="header-section-number">3.2</span> Гол нэр томъёо</a></li>
<li>
<a class="nav-link" href="#learning"><span class="header-section-number">3.3</span> Сургалтын материалууд</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#rstudio-%D0%B4%D0%BE%D1%82%D0%BE%D1%80%D1%85-%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%83%D1%83%D0%B4">RStudio доторх материалууд</a></li>
<li><a class="nav-link" href="#cheatsheets">Cheatsheets</a></li>
<li><a class="nav-link" href="#twitter">Twitter</a></li>
<li><a class="nav-link" href="#%D2%AF%D0%BD%D1%8D%D0%B3%D2%AF%D0%B9-%D0%BE%D0%BD%D0%BB%D0%B0%D0%B9%D0%BD-%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%83%D1%83%D0%B4">Үнэгүй онлайн материалууд</a></li>
<li><a class="nav-link" href="#%D0%B0%D0%BD%D0%B3%D0%BB%D0%B8-%D1%85%D1%8D%D0%BB%D1%8D%D1%8D%D1%81-%D0%B1%D1%83%D1%81%D0%B0%D0%B4-%D1%85%D1%8D%D0%BB">Англи хэлээс бусад хэл</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#%D1%81%D1%83%D1%83%D0%BB%D0%B3%D0%B0%D0%BB%D1%82"><span class="header-section-number">3.4</span> Суулгалт</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#r-%D0%B1%D0%BE%D0%BB%D0%BE%D0%BD-rstudio">R болон RStudio</a></li>
<li><a class="nav-link" href="#%D1%81%D1%83%D1%83%D0%BB%D0%B3%D0%B0%D1%85-%D1%88%D0%B0%D0%B0%D1%80%D0%B4%D0%BB%D0%B0%D0%B3%D0%B0%D1%82%D0%B0%D0%B9-%D0%B1%D0%BE%D0%BB%D0%B6-%D0%BC%D0%B0%D0%B3%D0%B0%D0%B4%D0%B3%D2%AF%D0%B9-%D0%B1%D1%83%D1%81%D0%B0%D0%B4-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC-%D1%85%D0%B0%D0%BD%D0%B3%D0%B0%D0%BC%D0%B6">Суулгах шаардлагатай болж магадгүй бусад програм хангамж</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#rstudio"><span class="header-section-number">3.5</span> RStudio</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#rstudio-%D1%87%D0%B8%D0%B3-%D0%B1%D0%B0%D1%80%D0%B8%D0%BC%D0%B6%D0%B0%D0%B0">RStudio чиг баримжаа</a></li>
<li><a class="nav-link" href="#rstudio-%D1%82%D0%BE%D1%85%D0%B8%D1%80%D1%83%D1%83%D0%BB%D0%B3%D1%83%D1%83%D0%B4">RStudio тохируулгууд</a></li>
<li><a class="nav-link" href="#%D0%B3%D0%B0%D1%80%D1%8B%D0%BD-%D1%82%D0%BE%D0%B2%D1%87%D0%BB%D0%BE%D0%BB%D1%83%D1%83%D0%B4-keyboard-shortcuts">Гарын товчлолууд (Keyboard shortcuts)</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#functions"><span class="header-section-number">3.6</span> Функцууд</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#%D1%8D%D0%BD%D0%B3%D0%B8%D0%B9%D0%BD-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D1%83%D1%83%D0%B4">Энгийн функцууд</a></li>
<li><a class="nav-link" href="#%D0%BE%D0%BB%D0%BE%D0%BD-%D0%B0%D1%80%D0%B3%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D1%82%D0%B0%D0%B9-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D1%83%D1%83%D0%B4">Олон аргументтай функцууд</a></li>
<li><a class="nav-link" href="#%D1%84%D1%83%D0%BD%D0%BA%D1%86-%D0%B1%D0%B8%D1%87%D0%B8%D1%85">Функц бичих</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#packages"><span class="header-section-number">3.7</span> Packages</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#install-and-load">Install and load</a></li>
<li><a class="nav-link" href="#code-syntax">Code syntax</a></li>
<li><a class="nav-link" href="#function-help">Function help</a></li>
<li><a class="nav-link" href="#update-packages">Update packages</a></li>
<li><a class="nav-link" href="#delete-packages">Delete packages</a></li>
<li><a class="nav-link" href="#dependencies">Dependencies</a></li>
<li><a class="nav-link" href="#masked-functions">Masked functions</a></li>
<li><a class="nav-link" href="#detach-unload">Detach / unload</a></li>
<li><a class="nav-link" href="#install-older-version">Install older version</a></li>
<li><a class="nav-link" href="#suggested-packages">Suggested packages</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#scripts"><span class="header-section-number">3.8</span> Scripts</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#commenting">Commenting</a></li>
<li><a class="nav-link" href="#style">Style</a></li>
<li><a class="nav-link" href="#example-script">Example Script</a></li>
<li><a class="nav-link" href="#r-markdown">R markdown</a></li>
<li><a class="nav-link" href="#r-notebooks">R notebooks</a></li>
<li><a class="nav-link" href="#shiny">Shiny</a></li>
<li><a class="nav-link" href="#code-folding">Code folding</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#working-directory"><span class="header-section-number">3.9</span> Working directory</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#recommended-approach">Recommended approach</a></li>
<li><a class="nav-link" href="#set-by-command">Set by command</a></li>
<li><a class="nav-link" href="#set-manually">Set manually</a></li>
<li><a class="nav-link" href="#within-an-r-project">Within an R project</a></li>
<li><a class="nav-link" href="#working-directory-in-an-r-markdown">Working directory in an R markdown</a></li>
<li><a class="nav-link" href="#providing-file-paths">Providing file paths</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#objects"><span class="header-section-number">3.10</span> Objects</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#everything-is-an-object">Everything is an object</a></li>
<li><a class="nav-link" href="#defining-objects--">Defining objects (&lt;-)</a></li>
<li><a class="nav-link" href="#object-structure">Object structure</a></li>
<li><a class="nav-link" href="#object-classes">Object classes</a></li>
<li><a class="nav-link" href="#columnsvariables">Columns/Variables ($)</a></li>
<li><a class="nav-link" href="#accessindex-with-brackets">Access/index with brackets ([ ])</a></li>
<li><a class="nav-link" href="#remove-objects">Remove objects</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#piping"><span class="header-section-number">3.11</span> Piping (%&gt;%)</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#pipes">Pipes</a></li>
<li><a class="nav-link" href="#define-intermediate-objects">Define intermediate objects</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#operators"><span class="header-section-number">3.12</span> Key operators and functions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#assignment-operators">Assignment operators</a></li>
<li><a class="nav-link" href="#relational-and-logical-operators">Relational and logical operators</a></li>
<li><a class="nav-link" href="#missing-values">Missing values</a></li>
<li><a class="nav-link" href="#mathematics-and-statistics">Mathematics and statistics</a></li>
<li><a class="nav-link" href="#in">%in%</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#errors-warnings"><span class="header-section-number">3.13</span> Errors &amp; warnings</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#error-versus-warning">Error versus Warning</a></li>
<li><a class="nav-link" href="#general-syntax-tips">General syntax tips</a></li>
<li><a class="nav-link" href="#code-assists">Code assists</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Тархвар судлаачийн R гарын авлага</strong>" was written by гарын авлагын баг. It was last built on 2021-08-31.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
